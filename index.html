<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Multisensor RDF Application Profile</title>
<!-- 2016-11-02 Wed 13:30 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Vladimir Alexiev" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<style type='text/css'> h1,h2,h3,h4,h5,h6,h7 {font-family: Arial} .author, .date, .creator {-webkit-margin-before: 0em; -webkit-margin-after: 0em} .abstract {margin: 1em; padding: 1em; border: 1px solid black} .abstract:before {content: 'Abstract: '; font-weight: bold} #preamble p {font-size: 110%%; margin-left: auto; margin-right: auto; text-align: center} th.left {text-align:left} th.right {text-align:right} th, td {line-height: 1em; border-width: 1px; border-style: solid solid; border-spacing: 2px 2px; padding: 2px 1px} .CANCELED {color: blue} .MAYBE {color: blue} .POSTPONED {color: blue} .APPLIED {color: orange} .FOLLOW {color: orange} .INPROGRESS {color: orange} .NEXT {color: orange} .IER {color: orange}.underline {text-decoration:underline} </style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Multisensor RDF Application Profile</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. Intro</a>
<ul>
<li><a href="#sec-1-1">1.1. SPARQL Queries</a></li>
<li><a href="#sec-1-2">1.2. Links</a></li>
<li><a href="#sec-1-3">1.3. References</a></li>
</ul>
</li>
<li><a href="#sec-2">2. Linguistic Linked Data</a>
<ul>
<li><a href="#sec-2-1">2.1. NIF Issues</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Prefixes</a>
<ul>
<li><a href="#sec-3-1">3.1. Multisensor Ontologies</a></li>
<li><a href="#sec-3-2">3.2. Multisensor Datasets</a></li>
<li><a href="#sec-3-3">3.3. External Datasets</a></li>
<li><a href="#sec-3-4">3.4. Common Ontologies</a></li>
<li><a href="#sec-3-5">3.5. Linguistic and Annotation ontologies</a></li>
<li><a href="#sec-3-6">3.6. Statistical Ontologies</a></li>
<li><a href="#sec-3-7">3.7. Eurostat Statistical Parameters</a></li>
<li><a href="#sec-3-8">3.8. WorldBank Statistical Parameters</a></li>
<li><a href="#sec-3-9">3.9. ComTrade and Distance Statistics</a></li>
<li><a href="#sec-3-10">3.10. Auxiliary Prefixes</a></li>
<li><a href="#sec-3-11">3.11. JSONLD Context</a></li>
</ul>
</li>
<li><a href="#sec-4">4. NIF Example</a>
<ul>
<li><a href="#sec-4-1">4.1. JSONLD vs Turtle</a></li>
<li><a href="#sec-4-2">4.2. Example Context</a></li>
<li><a href="#sec-4-3">4.3. String Position URLs</a></li>
<li><a href="#sec-4-4">4.4. Position URLs to Word URLs</a></li>
<li><a href="#sec-4-5">4.5. Basic Text Structure</a></li>
<li><a href="#sec-4-6">4.6. Part of Speech</a></li>
<li><a href="#sec-4-7">4.7. Dependency Parse</a></li>
<li><a href="#sec-4-8">4.8. NER Classes</a></li>
<li><a href="#sec-4-9">4.9. NER Individuals</a></li>
<li><a href="#sec-4-10">4.10. NER Provenance</a></li>
<li><a href="#sec-4-11">4.11. Sentiment Analysis with MARL</a></li>
<li><a href="#sec-4-12">4.12. Sentiment Analysis in NIF</a></li>
</ul>
</li>
<li><a href="#sec-5">5. RDF Validation</a>
<ul>
<li><a href="#sec-5-1">5.1. NIF Validator</a></li>
<li><a href="#sec-5-2">5.2. RDFUnit Validation</a>
<ul>
<li><a href="#sec-5-2-1">5.2.1. Generated Tests per Ontology</a></li>
<li><a href="#sec-5-2-2">5.2.2. RDFUnit Test Results</a></li>
</ul>
</li>
<li><a href="#sec-5-3">5.3. Manual Validation</a>
<ul>
<li><a href="#sec-5-3-1">5.3.1. Get Turtle from Store</a></li>
<li><a href="#sec-5-3-2">5.3.2. Get Turtle from SIMMO JSON</a></li>
<li><a href="#sec-5-3-3">5.3.3. Prettify Turtle</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-6">6. SIMMO</a>
<ul>
<li><a href="#sec-6-1">6.1. Graph Handling</a>
<ul>
<li><a href="#sec-6-1-1">6.1.1. PUT vs POST</a></li>
<li><a href="#sec-6-1-2">6.1.2. Graph Normalization</a>
<ul>
<li><a href="#sec-6-1-2-1">6.1.2.1. Query Changes</a></li>
<li><a href="#sec-6-1-2-2">6.1.2.2. Normalization Problems</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-6-2">6.2. SIMMO Context</a></li>
</ul>
</li>
<li><a href="#sec-7">7. Named Entity Recognition</a>
<ul>
<li><a href="#sec-7-1">7.1. NER Mapping</a></li>
<li><a href="#sec-7-2">7.2. Named Entity URLs</a></li>
<li><a href="#sec-7-3">7.3. NER Examples</a></li>
<li><a href="#sec-7-4">7.4. Babelnet Concepts</a>
<ul>
<li><a href="#sec-7-4-1">7.4.1. Generic vs Specific Concepts</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-8">8. Relation Extraction</a></li>
<li><a href="#sec-9">9. Complex NLP Annotations</a></li>
<li><a href="#sec-10">10. Multimedia Annotation</a>
<ul>
<li><a href="#sec-10-1">10.1. Automatic Speech Recognition</a>
<ul>
<li><a href="#sec-10-1-1">10.1.1. ASR Diagram</a></li>
<li><a href="#sec-10-1-2">10.1.2. hasCaption Property</a></li>
</ul>
</li>
<li><a href="#sec-10-2">10.2. Basic Image Annotation</a>
<ul>
<li><a href="#sec-10-2-1">10.2.1. Basic Representation with Open Annotation</a>
<ul>
<li><a href="#sec-10-2-1-1">10.2.1.1. Open Annotation Diagram</a></li>
</ul>
</li>
<li><a href="#sec-10-2-2">10.2.2. Representing Confidence with Stanbol FISE</a>
<ul>
<li><a href="#sec-10-2-2-1">10.2.2.1. Stanbol FISE Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-10-3">10.3. Annotating Images</a>
<ul>
<li><a href="#sec-10-3-1">10.3.1. Annotated Image Diagram</a></li>
</ul>
</li>
<li><a href="#sec-10-4">10.4. Annotating Videos</a>
<ul>
<li><a href="#sec-10-4-1">10.4.1. Annotated Video Diagram</a></li>
</ul>
</li>
<li><a href="#sec-10-5">10.5. Annotating Video Frames</a>
<ul>
<li><a href="#sec-10-5-1">10.5.1. Annotated Frame Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-11">11. Content Translation</a>
<ul>
<li><a href="#sec-11-1">11.1. Aside: Translation Properties</a></li>
<li><a href="#sec-11-2">11.2. Representing Translation</a>
<ul>
<li><a href="#sec-11-2-1">11.2.1. Translation Diagram</a></li>
<li><a href="#sec-11-2-2">11.2.2. Content Alignment</a></li>
</ul>
</li>
<li><a href="#sec-11-3">11.3. Content Alignment Representation</a></li>
<li><a href="#sec-11-4">11.4. Content Alignment Diagram</a></li>
</ul>
</li>
<li><a href="#sec-12">12. Multisensor Social Data</a>
<ul>
<li><a href="#sec-12-1">12.1. Topic Based on Single Keywords</a>
<ul>
<li><a href="#sec-12-1-1">12.1.1. Single Keywords Diagram</a></li>
</ul>
</li>
<li><a href="#sec-12-2">12.2. Topic Based on Multiple Hashtags</a>
<ul>
<li><a href="#sec-12-2-1">12.2.1. Multiple Hashtags Diagram</a></li>
</ul>
</li>
<li><a href="#sec-12-3">12.3. Tweets Related to Article</a>
<ul>
<li><a href="#sec-12-3-1">12.3.1. Tweets Diagram</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#sec-13">13. Sentiment Analysis</a>
<ul>
<li><a href="#sec-13-1">13.1. Sentiment of SIMMO and Sentence</a></li>
<li><a href="#sec-13-2">13.2. Sentiment About Named Entity</a></li>
</ul>
</li>
<li><a href="#sec-14">14. Text Characteristics</a></li>
<li><a href="#sec-15">15. SIMMO Quality</a>
<ul>
<li><a href="#sec-15-1">15.1. SIMMO Quality Diagram</a></li>
</ul>
</li>
<li><a href="#sec-16">16. Statistical Data for Decision Support</a>
<ul>
<li><a href="#sec-16-1">16.1. EuroStat Statistics</a></li>
<li><a href="#sec-16-2">16.2. WorldBank Statistics</a></li>
<li><a href="#sec-16-3">16.3. ComTrade Statistics</a>
<ul>
<li><a href="#sec-16-3-1">16.3.1. ComTrade Diagram</a></li>
<li><a href="#sec-16-3-2">16.3.2. ComTrade Derived Indicators</a></li>
</ul>
</li>
<li><a href="#sec-16-4">16.4. Distance Data</a>
<ul>
<li><a href="#sec-16-4-1">16.4.1. Distance Data Diagram</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<a href="http://rawgit.com/VladimirAlexiev/multisensor/master/">HTML Rendered version</a>
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Intro</h2>
<div class="outline-text-2" id="text-1">
<p>
The Multisensor project analyzes and extracts data from mass- and social media documents (so-called SIMMOs), including text, images and video, speech recognition and translationn, across several languages. It also handles social network data, statistical data, etc.
</p>

<p>
Early on the project made the decision that all data exchanged between project partners (between modules inside and outside the processing pipeline) will be in RDF JSONLD format. The final data is stored in a semantic repository and is used by various User Interface components for end-user interaction. This final data forms a corpus of semantic data over SIMMOs and is an important outcome of the project.
</p>

<p>
The flexibility of the semantic web model has allowed us to accommodate a huge variety of data in the same extensible model. We use a number of ontologies for representing that data: NIF and OLIA for linguistic info, ITSRDF for NER, DBpedia and Babelnet for entities and concepts, MARL for sentiment, OA for image and cross-article annotations, W3C CUBE for statistical indicators, etc. In addition to applying existing ontologies, we extended them by the Multisensor ontology, and introduced some innovations like embedding FrameNet in NIF.
</p>

<p>
The documentation of  this data has been an important ongoing task. It is even more important towards the end of the project, in order to enable the efficient use of MS data by external consumers.
</p>

<p>
This document describes the different RDF patterns used by Multisensor, and how the data fits together. Thus it represents an "RDF Application Profile" for Multisensor. We use an example-based approach, rather than the more formal and labourious approach being standardized by the W3C RDF Shapes working group (still in development).
</p>

<p>
We cover the following areas:
</p>
<ul class="org-ul">
<li>Linguistic Linked Data in NLP Interchange Format (NIF), including Part of Speech (POS), dependency parsing, sentiment, Named Entity Recognition (NER), etc
</li>
<li>Speech recognition, translation
</li>
<li>Multimedia binding and image annotation
</li>
<li>Statistical indicators and similar data
</li>
<li>Social network popularity and influence, etc
</li>
</ul>

<p>
A few technical aspects (eg Graph Normalization) are also covered.
</p>

<p>
The document is developed in Emacs Org-mode using a Literate Programming style.
Illustrative code and ontology fragments use RDF Turtle, and are assembled ("tangled") using Org Babel support to the <a href="./img">./img</a> folder.
</p>

<p>
Figures are made with the <a href="http://vladimiralexiev.github.io/pres/20160514-rdfpuml/">rdfpuml</a> tool from actual Turtle. This not only saves time, but also guarantees consistency of the figures with the examples and the ontology.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> SPARQL Queries</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Two companion documents describe various queries used by the system:
</p>
<ul class="org-ul">
<li><a href="https://docs.google.com/document/d/1FfkiiTYvrLzHJ5P5j34NRVGPbXml0ndpNtiNbH2osRw/edit">Multisensor SPARQL Queries</a> is the main document. 
</li>
<li><a href="https://docs.google.com/document/d/1jXPT3HbI9tEQrxjzBGC5Fbggpu42GXMBC_5rzX2k1uA/edit">Statistical Indicator Queries</a> describe additional queries for the statistical data in sec. <a href="#sec-16">16</a>.
</li>
</ul>
<p>
The queries can be tried against the SPARQL endpoint <a href="http://multisensor.ontotext.com/sparql">http://multisensor.ontotext.com/sparql</a>:
</p>
<ul class="org-ul">
<li>most data is in repository <b>ms-final-prototype</b>
</li>
<li>statistical data is in repository <b>multisensor-dbpedia</b>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Links</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li><a href="./img/prefixes.ttl">./img/prefixes.ttl</a>: all prefixes used by the project
</li>
<li><a href="./img/ontology.ttl">./img/ontology.ttl</a>: Multisensor ontology
</li>
<li><a href="./validation.html">./validation.html</a>: various issues and incremental additions. When finalized, the data additions are moved to this document.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> References</h3>
<div class="outline-text-3" id="text-1-3">
<ul class="org-ul">
<li>Vladimir Alexiev, <a href="./20140519-Multisensor-LD/Multisensor-LD.html">Multisensor Linked Data</a>: early presentation, Multisensor project meeting. May 2014, Barcelona.
</li>
<li>Vladimir Alexiev, <a href="http://vladimiralexiev.github.io/pres/20160514-rdfpuml/">Making True RDF Diagrams with rdfpuml</a>. Ontotext presentation. March 2016. <a href="http://vladimiralexiev.github.io/pres/20160514-rdfpuml/index-full.html">Continuous HTML</a>
</li>
<li>Vladimir Alexiev and Gerard Casamayor, <a href="./FrameNet/paper.pdf">FN goes NIF: Integrating FrameNet in the NLP Interchange Format</a>. Linked Data in Linguistics (LDL-2016): Managing, Building and Using Linked Language Resources. Portorož, Slovenia, May 2016. <a href="./FrameNet/paper.pdf">Presentation</a>.
</li>
<li>Vladimir Alexiev, <a href="./20160915-Multisensor-LOD/">Multisensor Linked Open Data</a>. DBpedia meeting presentation. Leipzig, Germany, Sep 2016.
</li>
<li>Boyan Simeonov, Vladimir Alexiev, Dimitris Liparas, Marti Puigbo, Stefanos Vrochidis, Emmanuel Jamin and Ioannis Kompatsiaris,
<a href="http://vladimiralexiev.github.io/pubs/INSCI2016.pdf">Semantic Integration of Web Data for International Investment Decision Support</a>,
3rd International Conference on Internet Science (INSCI 2016). Florence, Italy, Sep 2016.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Linguistic Linked Data</h2>
<div class="outline-text-2" id="text-2">
<p>
There's been a huge drive in recent years to represent NLP data as RDF. NLP data is usually large, so does it make sense to represent it as RDF? What's the benefit?
</p>
<ul class="org-ul">
<li>Ontologies, schemas and groups include: GRaF ITS2 FISE LAF LD4LT LEMON LIME LMF MARL NERD NIF NLP2RDF OLIA OntoLex OntoLing OntoTag Penn Stanford&#x2026; my oh my!
</li>
<li>There are a lot of linguistic resources available that can be used profitably: BabelNet FrameNet GOLD ISOcat LemonUBY Multitext OmegaNet UBY VerbNet Wiktionary WordNet.
</li>
</ul>
<p>
The benefit is that RDF offers a lot of flexibility for combining data on many different topics in one graph.
</p>

<p>
The NLP Interchange Format (NIF) is the pivot ontology that allows binding to text, and integrates many other aspects
</p>
<ul class="org-ul">
<li><a href="./20141008-Linguistic-LD/">Linguistic Linked Data</a>:  presentation, 2014-10-08, Bonn, Germany. Covers NIF, POS (Penn), dependency parsing (Stanford), morphology (OLIA), sentiment (MARL), etc
</li>
<li><a href="https://www.zotero.org/groups/linguistic_ld/items">Zotero Linguistic LD bibliography</a>
</li>
</ul>
</div>

<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> NIF Issues</h3>
<div class="outline-text-3" id="text-2-1">
<p>
As any new technology, NIF has various issues. A new version NIF 2.1 is in development and has raised its own issues.
Issues that we have posted about NIF:
</p>
<ul class="org-ul">
<li><a href="https://github.com/NLP2RDF/specification/issues/1">specification/issues/1</a>: nif:opinion vs marl:extractedFrom. Example: <a href="./img/NIF-issue-1.ttl">./img/NIF-issue-1.ttl</a>
</li>
<li><a href="https://github.com/NLP2RDF/specification/issues/2">specification/issues/2</a>: itsrdf vs fise properties. Example: <a href="./img/NIF-issue-2.ttl">./img/NIF-issue-2.ttl</a>
</li>
<li><a href="https://github.com/NLP2RDF/ontologies/issues/12">ontologies/issues/12</a>: location of NIF3.0 and issue tracker
</li>
<li><a href="https://github.com/NLP2RDF/ontologies/issues/19">ontologies/issues/19</a> nif:AnnotationUnit vs nifs:Annotation vs fise:EntityAnnotation vs fam:EntityAnnotation
</li>
<li><a href="https://github.com/NLP2RDF/ontologies/issues/18">ontologies/issues/18</a> comment on itsrdf:taAnnotatorsRef
</li>
<li><a href="https://github.com/NLP2RDF/ontologies/issues/17">ontologies/issues/17</a> Are lots of sub-classes and sub-properties needed?
</li>
<li><a href="https://github.com/NLP2RDF/ontologies/issues/16">ontologies/issues/16</a> URL persistence vs modularisation
</li>
<li><a href="https://github.com/NLP2RDF/ontologies/issues/8">ontologies/issues/8</a> nif:lang has multiple domains
</li>
<li><a href="https://github.com/NLP2RDF/documentation/issues/1">documentation/issues/1</a>: who's developing NIF 2.1 and where? (Provenance and Confidence)
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Prefixes</h2>
<div class="outline-text-2" id="text-3">
<p>
Multisensor uses the following prefixes. 
We define the prefixes once, and then can use them in Turtle examples without redefining them, guaranteeting consistency.
When this file is loaded in GraphDB, we can also make queries without worrying about the prefixes, 
and the ontologies are used for auto-completion of class and property names.
</p>

<p>
<a href="./img/prefixes.ttl">./img/prefixes.ttl</a>
</p>

<p>
A lot of the prefixes are registered in prefix.cc and can be obtained with a URL like this:
</p>
<ul class="org-ul">
<li><a href="http://prefix.cc/dbr,dbo,dc,fise,itsrdf,nif,olia,owl,penn,sioc,stanford,xsd,yago.ttl">http://prefix.cc/dbr,dbo,dc,fise,itsrdf,nif,olia,owl,penn,sioc,stanford,xsd,yago.ttl</a>
</li>
</ul>
</div>

<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> Multisensor Ontologies</h3>
<div class="outline-text-3" id="text-3-1">
<p>
UPF has defined a number of subsidiary ontologies related to Dependency Parsing (<code>dep</code>) and FrameNet (<code>frame</code> and <code>fe</code>).
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Multisensor ontologies</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/ontology#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">upf-deep:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://taln.upf.edu/upf-deep#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">upf-dep-syn:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://taln.upf.edu/olia/penn-dep-syntax#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">upf-dep-deu:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://taln.upf.edu/upf-dep-deu#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">upf-dep-spa:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://taln.upf.edu/upf-dep-spa#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">upf-pos-deu:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://taln.upf.edu/upf-pos-deu#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">upf-pos-spa:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://taln.upf.edu/upf-pos-spa#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">fe-upf:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://taln.upf.edu/frame-element#&gt;</span><span style="color: #b22222;"> . </span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">frame-upf:</span><span style="color: #008b8b;"> </span>     <span style="color: #0000ff;">&lt;http://taln.upf.edu/frame#&gt;</span><span style="color: #b22222;"> .</span>
</pre>
</div>

<p>
The Multisensor ontology gathers various classes and properties. 
Here we define its metadata (header), while classes and properties are defined in later sections on as-needed basis.
</p>

<p>
<a href="./img/ontology.ttl">./img/ontology.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">Ontology</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Multisensor Ontology"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Defines various classes and properties used by the FP7 Multisensor project"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">seeAlso</span> <span style="color: #0000ff;">&lt;http://multisensorproject.eu&gt;</span>, <span style="color: #0000ff;">&lt;http://github.com/VladimirAlexiev/multisensor/&gt;</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">creator</span>  <span style="color: #0000ff;">&lt;http://multisensorproject.eu&gt;</span>, <span style="color: #0000ff;">&lt;mailto:Vladimir.Alexiev@ontotext.com&gt;</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">created</span>  <span style="color: #8b2252;">"2016-06-20"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">date</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">modified</span> <span style="color: #8b2252;">"2016-10-20"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">date</span>;
  <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">versionInfo</span> <span style="color: #8b2252;">"1.0"</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> Multisensor Datasets</h3>
<div class="outline-text-3" id="text-3-2">
<p>
The main Multisensor dataset is <code>ms-content:</code> which includes the annotated news content (SIMMOs).
Additional data for social networks, annotations and locally defined concepts is also kept.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Multisensor datasets</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/annot/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;"> </span>    <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>    <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/concept/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/social/&gt;</span> .
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> External Datasets</h3>
<div class="outline-text-3" id="text-3-3">
<p>
We use two well-known LOD datasets for NER references (Babelnet <code>bn</code> and DBpedia <code>dbr</code>). Yago is used only in examples.
In addition, we make up a namespace for Twitter tags and users.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># External datasets</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://babelnet.org/rdf/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://dbpedia.org/resource/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://dbpedia.org/resource/Category:&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://yago-knowledge.org/resource/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">twitter:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://twitter.com/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://twitter.com/hashtag/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">twitter_user:</span><span style="color: #008b8b;"> </span>  <span style="color: #0000ff;">&lt;http://twitter.com/intent/user?user_id=&gt;</span> .
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> Common Ontologies</h3>
<div class="outline-text-3" id="text-3-4">
<p>
The following ontologies are commonly used
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Commonly used ontologies</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">bibo:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://purl.org/ontology/bibo/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://dbpedia.org/ontology/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://dbpedia.org/property/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dc:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://purl.org/dc/elements/1.1/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://purl.org/dc/terms/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://purl.org/dc/dcmitype/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://www.w3.org/ns/dqv#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://xmlns.com/foaf/0.1/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ldqd:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://www.w3.org/2016/05/ldqd#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://www.w3.org/ns/prov#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">schema:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://schema.org/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://rdfs.org/sioc/ns#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://www.w3.org/2004/02/skos/core#&gt;</span><span style="color: #b22222;">.</span>

<span style="color: #b22222;"># System ontologies</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">rdf:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://www.w3.org/2000/01/rdf-schema#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://www.w3.org/2002/07/owl#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">xsd:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://www.w3.org/2001/XMLSchema#&gt;</span><span style="color: #b22222;"> .</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> Linguistic and Annotation ontologies</h3>
<div class="outline-text-3" id="text-3-5">
<p>
These ontologies are the main "work-horse" in Multisensor, i.e. used to represent the majority of the data.
NIF 2.1 RC1 (see section <a href="#sec-2-1">2.1</a>) defined a <code>nif-ann:</code> namespace that is used in MS. 
Later NIF 2.1 abandoned the use of this prefix (instead falling back to the original <code>nif:</code> namespace), 
but unfortunately MS data could not be updated to use <code>nif:</code> only.
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Linguistic and Annotation ontologies</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">fam:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://vocab.fusepool.info/fam#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://fise.iks-project.eu/ontology/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">its:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://www.w3.org/2005/11/its/rdf#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://purl.org/marl/ns#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://nerd.eurecom.fr/ontology#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">nif:</span><span style="color: #008b8b;"> </span>           <span style="color: #0000ff;">&lt;http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-annotation#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://www.w3.org/ns/oa#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">olia:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://purl.org/olia/olia.owl#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">penn:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://purl.org/olia/penn.owl#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">stanford:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://purl.org/olia/stanford.owl#&gt;</span><span style="color: #b22222;">.</span>

<span style="color: #b22222;"># FrameNet ontologies</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">fn:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://www.ontologydesignpatterns.org/ont/framenet/tbox/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">frame:</span><span style="color: #008b8b;"> </span>         <span style="color: #0000ff;">&lt;http://www.ontologydesignpatterns.org/ont/framenet/abox/frame/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">fe:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://www.ontologydesignpatterns.org/ont/framenet/abox/fe/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">lu:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://www.ontologydesignpatterns.org/ont/framenet/abox/lu/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">st:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://www.ontologydesignpatterns.org/ont/framenet/abox/semType/&gt;</span> .
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-6" class="outline-3">
<h3 id="sec-3-6"><span class="section-number-3">3.6</span> Statistical Ontologies</h3>
<div class="outline-text-3" id="text-3-6">
<p>
Multisensor uses statistical ontologies for representing Decision Support data.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Common statistical ontologies (CUBE, SDMX)</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://purl.org/linked-data/cube#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">sdmx-code:</span><span style="color: #008b8b;"> </span>     <span style="color: #0000ff;">&lt;http://purl.org/linked-data/sdmx/2009/code#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">sdmx-attribute:</span><span style="color: #008b8b;"> </span><span style="color: #0000ff;">&lt;http://purl.org/linked-data/sdmx/2009/attribute#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;"> </span><span style="color: #0000ff;">&lt;http://purl.org/linked-data/sdmx/2009/dimension#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">sdmx-measure:</span><span style="color: #008b8b;"> </span>  <span style="color: #0000ff;">&lt;http://purl.org/linked-data/sdmx/2009/measure#&gt;</span><span style="color: #b22222;"> .</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-7" class="outline-3">
<h3 id="sec-3-7"><span class="section-number-3">3.7</span> Eurostat Statistical Parameters</h3>
<div class="outline-text-3" id="text-3-7">
<p>
One of the main sources of statistical data is Eurostat. We also use some of their parameters (eg <code>eugeo:</code>) to represent our own stats datasets.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Eurostat statistics</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eu:</span><span style="color: #008b8b;"> </span>            <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eu_age:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/age#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eu_adj:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/s_adj#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eu_flow:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/stk_flow#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eu_partner:</span><span style="color: #008b8b;"> </span>    <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/partner#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eudata:</span><span style="color: #008b8b;"> </span>        <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/data/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;"> </span>         <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/geo#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">indic:</span><span style="color: #008b8b;"> </span>         <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/indic#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">indic_bp:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/indic_bp#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">indic_et:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/indic_et#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">indic_is:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/indic_is#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">indic_na:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/indic_na#&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">prop:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/property#&gt;</span><span style="color: #b22222;"> .</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">unit:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/dic/unit#&gt;</span><span style="color: #b22222;"> .</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-8" class="outline-3">
<h3 id="sec-3-8"><span class="section-number-3">3.8</span> WorldBank Statistical Parameters</h3>
<div class="outline-text-3" id="text-3-8">
<p>
WorldBank stats (as represented at Cerven Capadisli's site <code>270a</code>) is also used by the project.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># WorldBank statistics</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">country:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://worldbank.270a.info/classification/country/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">indicator:</span><span style="color: #008b8b;"> </span>     <span style="color: #0000ff;">&lt;http://worldbank.270a.info/classification/indicator/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">property:</span><span style="color: #008b8b;"> </span>      <span style="color: #0000ff;">&lt;http://worldbank.270a.info/property/&gt;</span> .
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-9" class="outline-3">
<h3 id="sec-3-9"><span class="section-number-3">3.9</span> ComTrade and Distance Statistics</h3>
<div class="outline-text-3" id="text-3-9">
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">comtrade:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://comtrade.un.org/data/&gt;</span>.
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-indic:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/indicators/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;"> </span>       <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/comtrade/prop/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-comtr-commod:</span><span style="color: #008b8b;"> </span><span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/comtrade/commodity/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;"> </span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/comtrade/indicator/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;"> </span>   <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/comtrade/data/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;"> </span>    <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/distance/&gt;</span> .
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">ms-distance-dat:</span><span style="color: #008b8b;"> </span><span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/distance/data/&gt;</span> .
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-10" class="outline-3">
<h3 id="sec-3-10"><span class="section-number-3">3.10</span> Auxiliary Prefixes</h3>
<div class="outline-text-3" id="text-3-10">
<p>
<code>puml</code> is used in example files to give <b>rdfpuml</b> instructions that improve diagram appearance.
We always put such instructions after a row of ####### to distinguish them from actual RDF data.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Auxiliary prefixes</span>
<span style="color: #a020f0;">@prefix</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;"> </span>          <span style="color: #0000ff;">&lt;http://plantuml.com/ontology#&gt;</span><span style="color: #b22222;">.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-3-11" class="outline-3">
<h3 id="sec-3-11"><span class="section-number-3">3.11</span> JSONLD Context</h3>
<div class="outline-text-3" id="text-3-11">
<p>
Multisensor uses JSONLD for communication of RDF data between the various pipeline modules.
We use a JSONLD Context that reflects the prefixes to shorten the representation.
We make the context using the following command:
</p>
<div class="org-src-container">

<pre class="src src-sh">riot --formatted=jsonld prefixes.ttl &gt; multisensor.jsonld
</pre>
</div>

<p>
<a href="./img/multisensor.jsonld">./img/multisensor.jsonld</a>
</p>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> NIF Example</h2>
<div class="outline-text-2" id="text-4">
<p>
This first example shows NLP data in RDF Turtle. It covers:
</p>
<ul class="org-ul">
<li>NIF (text binding)
</li>
<li>OLIA (linguistic properties)
</li>
<li>Penn (POS tagging)
</li>
<li>Stanford (dependency parsing)
</li>
<li>ITS20 (NER or semantic annotation)
</li>
<li>NERD (NER classes)
</li>
<li>Stanbol/FISE (multiple NLP tools/annotations per word/phrase)
</li>
<li>MARL (opinion/sentiment)
</li>
</ul>
<p>
It uses NE (entities) from DBpedia, WordNet, YAGO
</p>
</div>

<div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> JSONLD vs Turtle</h3>
<div class="outline-text-3" id="text-4-1">
<p>
While JSONLD is used by the MS partners for communicating data, it is harder to read than Turtle.
Compare the example in Turtle to its JSONLD equivalent:
</p>
<ul class="org-ul">
<li><a href="./img/NIF-example.ttl">./img/NIF-example.ttl</a>: easier to read, used for examples and discussions
</li>
<li><a href="./img/NIF-example.jsonld">./img/NIF-example.jsonld</a>: used for machine communication
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> Example Context</h3>
<div class="outline-text-3" id="text-4-2">
<p>
Assume that <a href="http://example.com/blog/1">http://example.com/blog/1</a> is a blog post with the text "Germany is the work horse of the European Union".
First we represent the text as a whole.
<code>isString</code> means this Context is considered <b>equivalent</b> to its string value.
<code>sourceUrl</code> points to Where the text came from, same as the <code>@base</code>
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://example.com/blog/1/&gt;</span> .
<span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">; # the complete text</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Germany is the work horse of the European Union"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;&gt;</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> String Position URLs</h3>
<div class="outline-text-3" id="text-4-3">
<p>
The recommended NIF URLs are position-based (following RFC 5147): <code>&lt;#char=x,y&gt;</code> .
The count is 0-based and spaces are counted as 1 (NIF 2.0 Core Spec, String Counting and Determination of Length).
Here are the positions of each word:
</p>
<pre class="example">
Germany is   the   work  horse of    the   European Union
0,7     8,10 11,14 15,19 20,25 26,28 29,32 33,41    42,47
</pre>
<p>
All string URLs must refer to the context using <code>referenceContext.
~beginIndex/endIndex</code> are counted within the context's <code>isString</code>.
</p>

<p>
We indicate the datatype of <code>beginIndex/endIndex</code> explicitly, as specified in NIF, and unlike examples which omit it.
Please note that in Turtle a number like 7 means <code>xsd:integer</code>, not <code>xsd:nonNegativeInteger</code> (see <a href="http://www.w3.org/TR/turtle/#abbrev">Turtle spec</a>)
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=0,7&gt;</span><span style="color: #b22222;">   </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>;  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"7"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=8,10&gt;</span><span style="color: #b22222;">  </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"8"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>;  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"10"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=11,14&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"11"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"14"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=15,19&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"15"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"19"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=20,25&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"20"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"25"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=26,28&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"26"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"28"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=29,32&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"29"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"32"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=33,41&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"33"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"41"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=42,47&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"42"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"47"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
</pre>
</div>

<p>
We also introduce URLs for a couple of phrases.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=15,25&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"15"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"25"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
<span style="color: #0000ff;">&lt;#char=33,47&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"33"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>; <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"47"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Position URLs to Word URLs</h3>
<div class="outline-text-3" id="text-4-4">
<p>
In this example we introduce word-based URLs, which make the following statements more clear
(especially for Stanford Dependency Parse).
owl:sameAs makes two resources equivalent, so all their statements are "smushed" between each other.
The URLs don't make any semantic difference, and in the actual implementation we use only position-based URLs.
We also introduce URLs for the text as a whole, and a couple of phrases.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=0,47&gt;</span><span style="color: #b22222;">  </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#ROOT-0&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=0,7&gt;</span><span style="color: #b22222;">   </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=8,10&gt;</span><span style="color: #b22222;">  </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=11,14&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=15,19&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=20,25&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=26,28&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=29,32&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=33,41&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=42,47&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=15,25&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#work-horse&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=33,47&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">owl:</span><span style="color: #008b8b;">sameAs</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#European-Union&gt;</span><span style="color: #b22222;">.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> Basic Text Structure</h3>
<div class="outline-text-3" id="text-4-5">
<p>
NLP tools would usually record whether each URL is a Word, Phrase, Sentence&#x2026;
URLs <b>may</b> state the corresponding word with <code>nif:anchorOf</code>.
This is redundant, since it can be inferred from the context's <code>isString</code> and indexes, 
but is very useful for debugging, and Multisensor records it in production.
</p>

<p>
We can also record Lemma and  Stemming
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#ROOT-0&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Sentence</span><span style="color: #b22222;">. # no </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> because it already has the mandatory subprop </span><span style="color: #228b22;">nif:</span><span style="color: #b22222;">isString</span>
<span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">      </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Germany"</span><span style="color: #b22222;">;        </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">           </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"is"</span><span style="color: #b22222;">;             </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">          </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"the"</span><span style="color: #b22222;">;            </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">         </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"work"</span><span style="color: #b22222;">;           </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">        </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"horse"</span><span style="color: #b22222;">;          </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">           </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"of"</span><span style="color: #b22222;">;             </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">          </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"the"</span><span style="color: #b22222;">;            </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"European"</span><span style="color: #b22222;">;       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">        </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Union"</span><span style="color: #b22222;">;          </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#work-horse&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"work horse"</span><span style="color: #b22222;">;     </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Phrase</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#European-Union&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"European Union"</span><span style="color: #b22222;">; </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Phrase</span><span style="color: #b22222;">.</span>

<span style="color: #b22222;">############################## Stemming/Lemmatization</span>
<span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">    </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">lemma</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Germany"</span><span style="color: #b22222;">. # same for all words, </span><span style="color: #228b22;">except:</span>
<span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">   </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">lemma</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Europe"</span><span style="color: #b22222;">.</span>

<span style="color: #b22222;"># For a more interesting example, let's assume there's a 10th word "favourite".</span>
<span style="color: #0000ff;">&lt;#favourite-10&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">stem</span><span style="color: #b22222;">  </span><span style="color: #8b2252;">"favourit"</span><span style="color: #b22222;">. # Snowball Stemmer</span>
<span style="color: #0000ff;">&lt;#favourite-10&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">lemma</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"favorite"</span><span style="color: #b22222;">. # Stanford Core NLP</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-6" class="outline-3">
<h3 id="sec-4-6"><span class="section-number-3">4.6</span> Part of Speech</h3>
<div class="outline-text-3" id="text-4-6">
<p>
Let's represent some POS info using the Penn tagset.
It is part of the <a href="http://www.acoli.informatik.uni-frankfurt.de/resources/olia/">OLIA Ontologies</a>, and below we refer to files from that page.
</p>

<p>
The <a href="http://nlp.stanford.edu:8080/parser/index.jsp">Penn parser</a> produces his parse:
</p>
<pre class="example">
Germany/NNP is/VBZ the/DT work/NN horse/NN of/IN the/DT European/NNP Union/NNP
</pre>
<p>
We represent it below using two properties:
</p>
<ul class="org-ul">
<li><code>nif:oliaLink</code> is an <code>owl:Individual</code> representing the individual tag
</li>
<li><code>nif:oliaCategory</code> is an <code>owl:Class</code> representing the same
</li>
</ul>
<p>
Since in <code>penn.owl</code> the individuals have the same <code>rdf:type</code> as the given class, you only need one, the other is redundant.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">   </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">NNP</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">ProperNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">        </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">VBZ</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">BePresentTense</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">       </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">DT</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">      </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">NN</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">CommonNoun</span><span style="color: #b22222;">. # POS is NN, but the syntactic role is Adjective</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">NN</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">CommonNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">        </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">IN</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">PrepositionOrSubordinatingConjunction</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">       </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">DT</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">NNP</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">ProperNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">NNP</span><span style="color: #b22222;">; </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">ProperNoun</span><span style="color: #b22222;">.</span>
</pre>
</div>

<p>
One could consume POS at a higher level of abstraction: OLIA abstracts the particular POS tagset.
<code>penn-link.owl</code> defines Penn classes as subclasses of OLIA classes, so one could consume OLIA only.
If you produce a reduced tagset (eg only ProperNouns), use the OLIA class directly.
Please note that <code>nif:oliaLink</code> (the individual) doesn't apply here, only  <code>nif:oliaCategory</code> (the class).
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">   </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">ProperNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">        </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">[owl:</span><span style="color: #008b8b;">unionOf</span><span style="color: #b22222;"> </span><span style="color: #228b22;">(olia:</span><span style="color: #008b8b;">FiniteVerb</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #b22222;">StrictAuxiliaryVerb)],</span>
                             [<span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">Restriction</span>; <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">onProperty</span> <span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTense</span>; <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">allValuesFrom</span> <span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Present]</span>.
<span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">       </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">. # </span><span style="color: #8b2252;">"Not clear whether this corresponds to OLiA/EAGLES determiners"</span>
<span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">      </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">CommonNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">CommonNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">        </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">[owl:</span><span style="color: #008b8b;">unionOf</span><span style="color: #b22222;"> </span><span style="color: #228b22;">(olia:</span><span style="color: #008b8b;">Preposition</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">SubordinatingConjunction)]</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">       </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">. # </span><span style="color: #8b2252;">"Not clear whether this corresponds to OLiA/EAGLES determiners"</span>
<span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">ProperNoun</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaCategory</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">ProperNoun</span><span style="color: #b22222;">.</span>
</pre>
</div>

<p>
As you see above, the OLIA abstraction doesn't work perfectly in all cases:
</p>
<ul class="org-ul">
<li><code>penn:Determiner</code> doesn't have an OLIA mapping
</li>
<li><code>penn:PrepositionOrSubordinatingConjunction</code> maps to a <code>unionOf</code> (disjunction), but you can't query by such class
</li>
<li><code>penn:BePresentTense</code> is worse: it's also a <code>unionOf</code>;
further a reasoner will restrict any <code>olia:hasTense</code> property to have type <code>olia:Present</code>.
But neither OLIA nor Penn define any values for that property!
</li>
</ul>

<p>
Rather than using the PENN-OLIA mapping, we could attach NLP features directly to words, eg
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Verb</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTense</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">VerySpecialPresentTense</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">VerySpecialPresentTense</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Present,</span> <span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Tense</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-7" class="outline-3">
<h3 id="sec-4-7"><span class="section-number-3">4.7</span> Dependency Parse</h3>
<div class="outline-text-3" id="text-4-7">
<p>
The <a href="http://nlp.stanford.edu:8080/parser/index.jsp">Stanford Dependency Parser</a> produces the following parse:
</p>
<pre class="example">
(ROOT
  (S
    (NP (NNP Germany))
    (VP (VBZ is)
      (NP
        (NP (DT the) (NN work) (NN horse))
        (PP (IN of)
          (NP (DT the) (NNP European) (NNP Union)))))))
</pre>
<p>
A while ago the details of the parse were (currently it's a bit different):
</p>
<table border="1" cellspacing="0" cellpadding="2" rules="all" frame="box">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">individual(gov,dep)</th>
<th scope="col" class="left">class&lt;superclass&lt;superclass</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">nsubj(horse-5,Germany-1)</td>
<td class="left">NominalSubject&lt;Subject&lt;Argument&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">cop(horse-5,is-2)</td>
<td class="left">Copula&lt;Auxiliary&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">det(horse-5,the-3)</td>
<td class="left">Determiner&lt;Modifier&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">nn(horse-5,work-4)</td>
<td class="left">NounCompoundModifier&lt;Modifier&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">root(ROOT-0,horse-5)</td>
<td class="left">Root&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">prep(horse-5,of-6)</td>
<td class="left">PrepositionalModifier&lt;Modifier&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">det(Union-9,the-7)</td>
<td class="left">Determiner&lt;Modifier&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">amod(Union-9,European-8)</td>
<td class="left">AdjectivalModifier&lt;Modifier&lt;Dependent&lt;DependencyLabel</td>
</tr>

<tr>
<td class="left">pobj(of-6,Union-9)</td>
<td class="left">ObjectOfPreposition&lt;Object&lt;Complement&lt;Argument&lt;Dependent&lt;DependencyLabel</td>
</tr>
</tbody>
</table>
<p>
<b>individual</b> is an <code>owl:Individual</code> having the class (and all superclasses) as its type
</p>

<p>
There are two ways to represent this:
</p>
<ul class="org-ul">
<li>The easy way: use a single property (<code>nif:dependency</code>), attach the Stanford Dependency class to target
</li>
</ul>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">.  </span><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">  </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">NominalSubject</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">.       </span><span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Copula</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">.      </span><span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">      </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">.     </span><span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">     </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">NounCompoundModifier</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#ROOT-0&gt;</span><span style="color: #b22222;">  </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">.    </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">    </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Root</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">.       </span><span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">PrepositionalModifier</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">.      </span><span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">      </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">. </span><span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">AdjectivalModifier</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">    </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">.    </span><span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">    </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">ObjectOfPreposition</span><span style="color: #b22222;">.</span>
</pre>
</div>

<ul class="org-ul">
<li>The hard way: make separate DependencyLabel nodes
</li>
</ul>
<p>
We use <code>&lt;#individual(gov,dep)&gt;</code> as URL: that includes numbered words, so is guaranteed to be unique.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#nsubj(horse-5,Germany-1)&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">NominalSubject</span><span style="color: #b22222;">;        </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#cop(horse-5,is-2)&gt;</span><span style="color: #b22222;">        </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Copula</span><span style="color: #b22222;">;                </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#is-2&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#det(horse-5,the-3)&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">;            </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#the-3&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#nn(horse-5,work-4)&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">NounCompoundModifier</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#work-4&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#root(ROOT-0,horse-5)&gt;</span><span style="color: #b22222;">     </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Root</span><span style="color: #b22222;">;                  </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#ROOT-0&gt;</span><span style="color: #b22222;">;  </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#prep(horse-5,of-6)&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">PrepositionalModifier</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#horse-5&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#det(Union-9,the-7)&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">Determiner</span><span style="color: #b22222;">;            </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#the-7&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#amod(Union-9,European-8)&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">AdjectivalModifier</span><span style="color: #b22222;">;    </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">; </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#European-8&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#pobj(of-6,Union-9)&gt;</span><span style="color: #b22222;">       </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">Relation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">stanford:</span><span style="color: #008b8b;">ObjectOfPreposition</span><span style="color: #b22222;">;   </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasSource</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#of-6&gt;</span><span style="color: #b22222;">;    </span><span style="color: #228b22;">olia:</span><span style="color: #008b8b;">hasTarget</span><span style="color: #b22222;"> </span><span style="color: #0000ff;">&lt;#Union-9&gt;</span><span style="color: #b22222;">.</span>
</pre>
</div>

<p>
We use the following class hierarchy: <code>stanford:DependencyLabel&lt;olia_sys:Feature&lt;LinguisticAnnotation</code>
The latter is kind of like <code>Relation</code>, which has properties <code>hasSource, hasTarget</code>
</p>
</div>
</div>

<div id="outline-container-sec-4-8" class="outline-3">
<h3 id="sec-4-8"><span class="section-number-3">4.8</span> NER Classes</h3>
<div class="outline-text-3" id="text-4-8">
<p>
There are two mechanisms to represent Named Entity Recognition.
</p>

<p>
If you can recognize only the entity type:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">      </span><span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Country</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#European-Union&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Country</span><span style="color: #b22222;">. # or AdministrativeRegion or Location</span>
</pre>
</div>

<p>
This uses the NERD ontology, which includes:
</p>
<ul class="org-ul">
<li>NERD Core (top-level) classes:
Thing Amount Animal Event Function Location Organization Person Product Time
</li>
<li>NERD specific classes:
AdministrativeRegion Aircraft Airline Airport Album Ambassador Architect Artist Astronaut Athlete Automobile Band Bird Book Bridge Broadcast Canal Celebrity City ComicsCharacter Company Continent Country Criminal Drug EducationalInstitution EmailAddress FictionalCharacter Holiday Hospital Insect Island Lake Legislature Lighthouse Magazine Mayor MilitaryConflict Mountain Movie Museum MusicalArtist Newspaper NonProfitOrganization OperatingSystem Park PhoneNumber PoliticalEvent Politician ProgrammingLanguage RadioProgram RadioStation Restaurant River Road SchoolNewspaper ShoppingMall SoccerClub SoccerPlayer Software Song Spacecraft SportEvent SportsLeague SportsTeam Stadium Station TVStation TennisPlayer URL University Valley VideoGame Weapon Website
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-9" class="outline-3">
<h3 id="sec-4-9"><span class="section-number-3">4.9</span> NER Individuals</h3>
<div class="outline-text-3" id="text-4-9">
<p>
If you can recognize specific entities in LOD datasets, you can capture such annotations, eg:
</p>
<ul class="org-ul">
<li>Wordnet RDF for phrases: <a href="http://wordnet-rdf.princeton.edu/search?query=workhorse">search Wordnet</a>, then pick the correct sense <code>104608649-n</code>
</li>
<li>DBpedia for real-word entities
</li>
<li>Babelnet for phrases or real-word entities: <a href="http://babelnet.org/search?word=workhorse&lang=EN">search Babelnet</a>, then pick the correct sense <code>00081596n</code>
</li>
</ul>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#work-horse&gt;</span><span style="color: #b22222;">     </span><span style="color: #228b22;">its:</span><span style="color: #b22222;">taIdentRef</span>
  <span style="color: #0000ff;">&lt;http://wordnet-rdf.princeton.edu/wn31/104608649-n&gt;</span>, <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00081596n</span>.
<span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">      </span><span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#European-Union&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">European_union</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">European_union</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Country,</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Place,</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">PopulatedPlace,</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">G20Nations,</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">InternationalOrganizationsOfEurope</span>. <span style="color: #b22222;"># </span><span style="color: #228b22;">etc</span>
<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span>        <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Country,</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Place,</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">PopulatedPlace,</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">FederalCountries,</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">EuropeanUnionMemberEconomies</span>. <span style="color: #b22222;"># etc</span>
</pre>
</div>

<p>
These LOD sources include useful info, eg:
</p>
<ul class="org-ul">
<li>Wordnet's <a href="http://wordnet-rdf.princeton.edu/wn31/104608649-n.ttl">104608649-n.ttl</a> has:
<ul class="org-ul">
<li>wn:gloss "machine that performs dependably under heavy use"
</li>
<li>wn:sample "the IBM main frame computers have been the workhorse of the business world"
</li>
<li>declared owl:sameAs <a href="http://www.w3.org/2006/03/wn/wn20/instances/synset-workhorse-noun-1">older Wordnet 2.0 representation</a>  and <a href="http://lemon-model.net/lexica/uby/wn/WN_Synset_25709">newer LemonUby representation</a>
</li>
</ul>
</li>
<li>DBpedia has info about population, area, etc.
It also has extensive class info as shown above, so there's no need to use <code>its:taClassRef nerd:Country</code>.
But other NERD classes may be useful, eg Phone, Email: for those you can't refer to DBpedia and must use <code>its:taClassRef</code>
</li>
<li>Babelnet has links to Wordnet, DBpedia, Wikipedia categories, skos:broader exracted from Wordnet/DBpedia, etc.
The Multisensor Entity Lookup service uses Babelnet since it's a more modern resource integrating the two above, plus more
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-10" class="outline-3">
<h3 id="sec-4-10"><span class="section-number-3">4.10</span> NER Provenance</h3>
<div class="outline-text-3" id="text-4-10">
<p>
We can record the tool that created the NER annotation and its confidence. 
MS uses up to two tools for NER: Linguatec and Babelnet. 
</p>
<ul class="org-ul">
<li>The Linguatec annotation is always emitted first, directly over the <code>nif:Word</code> or <code>nif:Phrase</code>
</li>
<li>The Babelnet is emitted second. 
If there is no Linguatec annotation for the same <code>nif:Phrase</code>, it's emitted directly over the <code>nif:Phrase</code>.
If there are two annotations, the Babelnet annotation is emitted indirectly, over a <code>nif:AnnotationUnit</code>.
</li>
</ul>

<p>
Here we show the more complex latter case.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span>;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">provenance</span> <span style="color: #0000ff;">&lt;http://linguatec.com&gt;</span>;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">confidence</span> <span style="color: #8b2252;">"0.9"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span>;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">annotationUnit</span> <span style="color: #0000ff;">&lt;#Germany-1-annot-Babelnet&gt;</span><span style="color: #b22222;">.</span>

<span style="color: #0000ff;">&lt;#Germany-1-annot-Babelnet&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">AnnotationUnit</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">sTODO</span>;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">provenance</span> <span style="color: #0000ff;">&lt;http://babelfy.org/&gt;</span>;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">confidence</span> <span style="color: #8b2252;">"1.0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span>.
</pre>
</div>

<p>
Note: previously we used the NIF Stanbol profile (FISE) instead of <code>nif-ann</code>, eg:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#Germany-1-enrichment-1&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">EntityAnnotation</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">extracted-from</span> <span style="color: #0000ff;">&lt;#Germany-1&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">entity-type</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Country</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">entity-reference</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">creator</span> <span style="color: #0000ff;">&lt;http://babelnet.org&gt;</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #8b2252;">"1.0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">float</span>.
</pre>
</div>
<p>
But it is a bad practice to use two completely different property sets for two similar situations.
Just because in the second case there's an intermediate node for the annotation,
doesn't mean the properties should be completely different.
We posted that as a NIF issue: <a href="https://github.com/NLP2RDF/specification/issues/2">specification/issues/2</a>
</p>
</div>
</div>

<div id="outline-container-sec-4-11" class="outline-3">
<h3 id="sec-4-11"><span class="section-number-3">4.11</span> Sentiment Analysis with MARL</h3>
<div class="outline-text-3" id="text-4-11">
<p>
Assume there are some comments about our blog, which we represent using SIOC.
Comments are a sort of <code>sioc:Post</code>, since there is no separate <code>sioc:Comment</code> class
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;comment/1&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Post</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">reply_of</span> <span style="color: #0000ff;">&lt;&gt;</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_creator</span> <span style="color: #0000ff;">&lt;http://example.com/users/Hans&gt;</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">content</span> <span style="color: #8b2252;">"Yes, we Germans are the hardest-working people in the world"</span>.
<span style="color: #0000ff;">&lt;comment/2&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Post</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">reply_of</span> <span style="color: #0000ff;">&lt;&gt;</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_creator</span> <span style="color: #0000ff;">&lt;http://example.com/users/Dimitrios&gt;</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">content</span> <span style="color: #8b2252;">"Bullshit! We Greeks are harder-working"</span>.
</pre>
</div>

<p>
Now assume a sentiment analysis algorithm detects the sentiment of the comment posts.
We represent them using MARL. 
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;opinion/1&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">extractedFrom</span> <span style="color: #0000ff;">&lt;comment/1&gt;</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">describesObject</span> <span style="color: #0000ff;">&lt;&gt;</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">opinionText</span> <span style="color: #8b2252;">"Yes"</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">polarityValue</span> 0.9;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span> -1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span> 1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">hasPolarity</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Positive</span>.
<span style="color: #0000ff;">&lt;opinion/2&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">extractedFrom</span> <span style="color: #0000ff;">&lt;comment/2&gt;</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">describesObject</span> <span style="color: #0000ff;">&lt;&gt;</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">opinionText</span> <span style="color: #8b2252;">"Bullshit!"</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">polarityValue</span> -1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span> -1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span> 1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">hasPolarity</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Negative</span>.
</pre>
</div>

<p>
Note: the following properties are useful for sentiment about vendors (eg AEG) or products (eg appliances):
</p>
<ul class="org-ul">
<li><code>marl:describesObject</code> (eg laptop)
</li>
<li><code>marl:describesObjectPart</code> (eg battery, screen)
</li>
<li><code>marl:describesFeature</code> (eg for battery: battery life, weight)
</li>
</ul>

<p>
Often it's desirable to aggregate opinions, so one doesn't have to deal with individual opinions
(<code>marl:aggregatesOpinion</code> is optional)
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;opinions&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">AggregatedOpinion</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">describesObject</span> <span style="color: #0000ff;">&lt;&gt;</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">aggregatesOpinion</span> <span style="color: #0000ff;">&lt;opinion/1&gt;</span>, <span style="color: #0000ff;">&lt;opinion/2&gt;</span>; <span style="color: #b22222;"># can skip</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">opinionCount</span> 2;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">positiveOpinionsCount</span> 1; <span style="color: #b22222;"># sic, this property is spelled in plural</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">negativeOpinionCount</span> 1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">polarityValue</span> -0.05; <span style="color: #b22222;"># simple average</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span> -1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span> 1;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">hasPolarity</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Neutral</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-4-12" class="outline-3">
<h3 id="sec-4-12"><span class="section-number-3">4.12</span> Sentiment Analysis in NIF</h3>
<div class="outline-text-3" id="text-4-12">
<p>
NIF integrates MARL using property <code>nif:opinion</code> from <code>nif:String</code> to <code>marl:Opinion</code>.
But that's declared inverseOf <code>marl:extractedFrom</code>, which in the MARL example points to <code>sioc:Post</code> (not the <code>nif:String</code> content of the post).
So something doesn't mesh here (<a href="https://github.com/NLP2RDF/specification/issues/1">specification/issues/1</a>).
We could mix SIOC and NIF properties on <code>&lt;comment/1&gt;</code>, but then <code>nif:sourceUrl</code> would point to itself&#x2026;
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;comment/1&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;comment/1&gt;</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Yes, we Germans are the hardest-working people in the world"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">opinion</span> <span style="color: #0000ff;">&lt;opinion/1&gt;</span>.
<span style="color: #0000ff;">&lt;comment/2&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;comment/2&gt;</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Bullshit! We Greeks are harder-working"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">opinion</span> <span style="color: #0000ff;">&lt;opinion/2&gt;</span>.
</pre>
</div>

<p>
It may be more meaningful to use NIF to express which word carries the opinion (like <code>marl:opinionText</code>)
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;comment/1#char=0,&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;comment/1&gt;</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Yes, we Germans are the hardest-working people in the world"</span>.
<span style="color: #0000ff;">&lt;comment/1#char=0,3&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">String</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;comment/1#char=0,&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"Yes"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">opinion</span> <span style="color: #0000ff;">&lt;opinion/1&gt;</span>.

<span style="color: #0000ff;">&lt;comment/2#char=0,&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;comment/2&gt;</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Bullshit! We Greeks are harder-working"</span>.
<span style="color: #0000ff;">&lt;comment/2#char=0,9&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">String</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;comment/2#char=0,&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"Bullhshit!"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">opinion</span> <span style="color: #0000ff;">&lt;opinion/2&gt;</span>.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> RDF Validation</h2>
<div class="outline-text-2" id="text-5">
<p>
All generated NIF files should be validated, to avoid mistakes propagating between the pipeline modules.
We first tried the NIF Validator, but quickly switched to RDFUnit validation.
</p>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> NIF Validator</h3>
<div class="outline-text-3" id="text-5-1">
<p>
The basic NIF validator is part of the NIF distribution (<a href="http://persistence.uni-leipzig.org/nlp2rdf/specification/core.html#validator">doc</a>, <a href="http://persistence.uni-leipzig.org/nlp2rdf/specification/validate.jar">software</a>, <a href="http://persistence.uni-leipzig.org/nlp2rdf/ontologies/testcase/lib/nif-2.0-suite.ttl">tests</a>).
Unfortunately there are only 11 tests, so it's not very useful
</p>
<ul class="org-ul">
<li>You can understand the tests just by reading the error messages, e.g. 
<pre class="example">
nif:anchorOf must match the substring of nif:isString calculated with begin and end index
</pre>
</li>
<li>It says "json-ld not implemented yet", so we need to convert to ttl first (I use apache-jena-2.12.1)
<pre class="example">
rdfcat -out ttl test-out.jsonld | java -jar validate.jar -i - -o text
</pre>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> RDFUnit Validation</h3>
<div class="outline-text-3" id="text-5-2">
<p>
A much better validator is RDFUnit (<a href="http://aksw.org/Projects/RDFUnit.html">home</a>, <a href="http://rdfunit.aksw.org/demo/">demo</a>, <a href="https://github.com/AKSW/RDFUnit/">source</a>, paper <a href="http://jens-lehmann.org/files/2014/eswc_rdfunit_nlp.pdf">NLP data cleansing based on Linguistic Ontology constraints</a>)
This is implemented in the Multisensor <a href="http://mklab2.iti.gr/multisensor/index.php/RDF_Validation_Service">RDF_Validation_Service</a>
</p>

<p>
I tried their demo site with some examples.
</p>
<ol class="org-ol">
<li>Data Selection&gt; Direct Input&gt; Turtle&gt; Load
<pre class="example">
Data loaded successfully! (162 statements)
</pre>
</li>
<li>Constraints Selection&gt; Automatic&gt; Load
<pre class="example">
Constraints loaded successfully: (foaf, nif, itsrdf, dcterms)
</pre>
</li>
<li>Test Generation
<pre class="example">
Completed! Generated 514 tests                 
</pre>
<p>
(That's a lot of tests!)
</p>
</li>
<li>Testing&gt; Report Type&gt; Status (all)&gt; Run Tests
<pre class="example">
Total test cases 514, Succeeded 507, Failed 7  
</pre>
<p>
(Those "Succeeded" also in many cases mean errors)
</p>
</li>
</ol>
</div>

<div id="outline-container-sec-5-2-1" class="outline-4">
<h4 id="sec-5-2-1"><span class="section-number-4">5.2.1</span> Generated Tests per Ontology</h4>
<div class="outline-text-4" id="text-5-2-1">

<div class="figure">
<p><img src="./img/RDFunit-NIF-tests.png" alt="RDFunit-NIF-tests.png" />
</p>
</div>

<table border="1" cellspacing="0" cellpadding="2" rules="all" frame="box">


<colgroup>
<col  class="left" />

<col  class="right" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">URI</th>
<th scope="col" class="right">Automatic</th>
<th scope="col" class="left">Manual</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><a href="http://xmlns.com/foaf/0.1/">http://xmlns.com/foaf/0.1/</a></td>
<td class="right">174</td>
<td class="left">-</td>
</tr>

<tr>
<td class="left"><a href="http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core">http://persistence.uni-leipzig.org/nlp2rdf/ontologies/nif-core</a>#</td>
<td class="right">199</td>
<td class="left">10</td>
</tr>

<tr>
<td class="left"><a href="http://www.w3.org/2005/11/its/rdf">http://www.w3.org/2005/11/its/rdf</a>#</td>
<td class="right">75</td>
<td class="left">-</td>
</tr>

<tr>
<td class="left"><a href="http://purl.org/dc/terms/">http://purl.org/dc/terms/</a></td>
<td class="right">56</td>
<td class="left">-</td>
</tr>

<tr>
<td class="left"><a href="http://www.w3.org/2006/time">http://www.w3.org/2006/time</a>#</td>
<td class="right">183</td>
<td class="left">-</td>
</tr>

<tr>
<td class="left"><a href="http://dbpedia.org/ontology/">http://dbpedia.org/ontology/</a></td>
<td class="right">9281</td>
<td class="left">14</td>
</tr>
</tbody>
</table>
<p>
(Even though I canceled dbo generation prematurely.)
</p>

<p>
This is too much for us, we don't want the DBO tests.
In particular, the <b>Status (all)</b> report includes a lot of "violations" that come from ontologies not from our data.
</p>
</div>
</div>

<div id="outline-container-sec-5-2-2" class="outline-4">
<h4 id="sec-5-2-2"><span class="section-number-4">5.2.2</span> RDFUnit Test Results</h4>
<div class="outline-text-4" id="text-5-2-2">
<p>
Here are the results. "Resources" is a simple tabular format (basically URL &amp; error),
"Annotated Resources" provides more detail (about the errors pertaining to each URL)
</p>
<table border="1" cellspacing="0" cellpadding="2" rules="all" frame="box">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<tbody>
<tr>
<td class="left">Source File</td>
<td class="left">Status</td>
<td class="left">Annotated Resources</td>
</tr>

<tr>
<td class="left"><a href="./img/NIF-test1.ttl">./img/NIF-test1.ttl</a></td>
<td class="left"><a href="./img/NIF-test1-out.xls">./img/NIF-test1-out.xls</a></td>
<td class="left"><a href="./img/NIF-test1-annotated.ttl">./img/NIF-test1-annotated.ttl</a></td>
</tr>

<tr>
<td class="left"><a href="./img/NIF-test2.ttl">./img/NIF-test2.ttl</a></td>
<td class="left"><a href="./img/NIF-test2-out.xls">./img/NIF-test2-out.xls</a></td>
<td class="left"><a href="./img/NIF-test2-annotated.ttl">./img/NIF-test2-annotated.ttl</a></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> Manual Validation</h3>
<div class="outline-text-3" id="text-5-3">
<p>
In addition to RDFUnit validation, we used a lot of manual validation to check for semantic (as opposed to syntactic) errors.
The <a href="http://mklab2.iti.gr/multisensor/index.php/RDF_Validation">RDF_Validation</a> page describes a workflow for preparing pipeline results for validation.
</p>

<p>
Please post only Turtle files, not JSON files since they are impossible to check manually.
</p>
<ul class="org-ul">
<li>Get Jena (eg <a href="http://apache.cbox.biz/jena/binaries/apache-jena-3.0.0.tar.gz">apache-jena-3.0.0.tar.gz</a>), unzip it somewhere and add the bin directory to your path. We'll use RIOT (RDF I/O Tool).
</li>
<li>Get Turtle: You can get a Turtle representation of the SIMMO in one of two ways
</li>
</ul>
</div>

<div id="outline-container-sec-5-3-1" class="outline-4">
<h4 id="sec-5-3-1"><span class="section-number-4">5.3.1</span> Get Turtle from Store</h4>
<div class="outline-text-4" id="text-5-3-1">
<ul class="org-ul">
<li>Store the SIMMO using the <a href="http://mklab2.iti.gr/multisensor/index.php/RDF_Storing_Service">RDF Storing Service</a>
</li>
<li>Get the SIMMO out using a query like this (saved as "a SIMMO graph"), and then save the result as <code>file-noprefix.ttl</code> (Turtle).
</li>
</ul>
<div class="org-src-container">

<pre class="src src-sparql"><span style="color: #008b8b;">&lt;pre&gt;</span><span style="color: #a020f0;">construct</span> {<span style="color: #a0522d;">?s</span> <span style="color: #a0522d;">?p</span> <span style="color: #a0522d;">?o</span>} 
<span style="color: #a020f0;">where</span> {<span style="color: #a020f0;">graph</span> <span style="color: #008b8b;">&lt;http://data.multisensor.org/content/8006dcd60b292feaaef24abc9ec09e2230aab83e&gt;</span> 
  {<span style="color: #a0522d;">?s</span> <span style="color: #a0522d;">?p</span> <span style="color: #a0522d;">?o</span>}}
</pre>
</div>
<ul class="org-ul">
<li>There's also a REST call to get the SIMMO out that's easier to use from the command line
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-3-2" class="outline-4">
<h4 id="sec-5-3-2"><span class="section-number-4">5.3.2</span> Get Turtle from SIMMO JSON</h4>
<div class="outline-text-4" id="text-5-3-2">
<ul class="org-ul">
<li>get the content of the "rdf" key out of the SIMMO JSON. Unescape quotes. Save as <code>file.jsonld</code>
  So instead of this:
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #8b2252;">"rdf"</span>:[<span style="color: #8b2252;">"[{\"@id\":\"http://data.multisensor...[{\"@value\":\"Germany\"}]}]"</span>],<span style="color: #8b2252;">"category"</span>:<span style="color: #8b2252;">""</span>}&lt;/pre&gt;
</pre>
</div>
<p>
You need this:
</p>
<div class="org-src-container">

<pre class="src src-javascript">[{<span style="color: #8b2252;">"@id"</span>:<span style="color: #8b2252;">"http://data.multisensor...[{"</span>@value<span style="color: #8b2252;">":"</span>Germany<span style="color: #8b2252;">"}]}]</span>
</pre>
</div>
</li>
<li>You can do this manually, or with RIOT that can convert the stringified RDF field into more readable JSONLD format:
<pre class="example">
riot --output=jsonld rdf_output_string.jsonld &gt; new_readable_file.jsonld
</pre>
<p>
Instead of a single string, the results will be displayed as:
</p>
<div class="org-src-container">

<pre class="src src-javascript"><span style="color: #8b2252;">"@graph"</span> : [ {
  <span style="color: #8b2252;">"@id"</span> : <span style="color: #8b2252;">"http://data.multisensorproject.eu/content/53a0938bc4770c6ba0e7d7b9ca88a637f9e9c304#Amount=10000_Euro"</span>,
  <span style="color: #8b2252;">"@type"</span> : [ <span style="color: #8b2252;">"http://schema.org/QuantitativeValue"</span>, <span style="color: #8b2252;">"http://nerd.eurecom.fr/ontology#Amount"</span> ],
  <span style="color: #8b2252;">"name"</span> : <span style="color: #8b2252;">"10000 Euro"</span>
}, {
  <span style="color: #8b2252;">"@id"</span> : <span style="color: #8b2252;">"http://data.multisensorproject.eu/content/53a0938bc4770c6ba0e7d7b9ca88a637f9e9c304#Amount=2000_Euro"</span>,
  <span style="color: #8b2252;">"@type"</span> : [ <span style="color: #8b2252;">"http://schema.org/QuantitativeValue"</span>, <span style="color: #8b2252;">"http://nerd.eurecom.fr/ontology#Amount"</span> ],
  <span style="color: #8b2252;">"name"</span> : <span style="color: #8b2252;">"2000 Euro"</span>
}, {...
</pre>
</div>
</li>
</ul>

<p>
No matter which of the two methods you used, the rest is the same
</p>
<ul class="org-ul">
<li>Validate it with RIOT: this is optional but recommended
<pre class="example">
riot --validate file.jsonld
</pre>
</li>
<li>Convert to Turtle. Omit "WARN riot" lines which would make the Turtle invalid
<pre class="example">
riot --output turtle file.jsonld | grep -v "WARN  riot" &gt; file-noprefix.ttl
</pre>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-5-3-3" class="outline-4">
<h4 id="sec-5-3-3"><span class="section-number-4">5.3.3</span> Prettify Turtle</h4>
<div class="outline-text-4" id="text-5-3-3">
<p>
Unfortunately this file doesn't use prefixes, so the URLs are long and ugly
</p>
<ul class="org-ul">
<li>Download <a href="./img/prefixes.ttl">./img/prefixes.ttl</a> (this file is updated about once a month)
</li>
<li>Concat the two:
<pre class="example">
cat prefixes.ttl file-noprefix.ttl &gt; file-withprefix.ttl
</pre>
</li>
<li>Prettify the Turtle to make use of the prefixes and to group all statements of the same subject together:
<pre class="example">
riot --formatted=turtle file-withprefix.ttl &gt; file.ttl
</pre>
</li>
</ul>

<p>
Optional manual edits:
</p>
<ul class="org-ul">
<li>Add on top a base, using the actual SIMMO base, eg
<pre class="example">
@base &lt;http://data.multisensorproject.eu/content/53a0938bc4770c6ba0e7d7b9ca88a637f9e9c304&gt;.
</pre>
</li>
<li>Replace this string with "" (I don't know why RIOT doesn't use the base, even if I specify the &#x2013;base option)
</li>
<li>Sort paragraphs (i.e. statement clusters)
</li>
</ul>

<p>
Post in Jira that last prettified file.ttl. Thanks!
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> SIMMO</h2>
<div class="outline-text-2" id="text-6">
<p>
Multisensor crawls and analyzes news items and social network posts, collectively called SIMMOs.
Each SIMMO has a GUID URL in the <code>ms-content:</code> namespace.
Below we assume the <code>@base</code> is set to the SIMMO URL, eg
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/04858f1e0cbc73ab672b1f6acab05afe2c18b0ae&gt;</span>.
</pre>
</div>
<p>
Therefore <code>&lt;&gt;</code> and <code>ms-content:&lt;GUID&gt;</code> mean the same URL.
</p>
</div>

<div id="outline-container-sec-6-1" class="outline-3">
<h3 id="sec-6-1"><span class="section-number-3">6.1</span> Graph Handling</h3>
<div class="outline-text-3" id="text-6-1">
<p>
The <a href="http://mklab2.iti.gr/multisensor/index.php/RDF_Storing_Service">RDF_Storing_Service</a> saves all data about a SIMMO in a named graph having the same URL as the SIMMO base URL.
This makes it easy to get or overwrite all data about the SIMMO.
</p>
</div>

<div id="outline-container-sec-6-1-1" class="outline-4">
<h4 id="sec-6-1-1"><span class="section-number-4">6.1.1</span> PUT vs POST</h4>
<div class="outline-text-4" id="text-6-1-1">
<p>
The <a href="http://mklab2.iti.gr/multisensor/index.php/RDF_Storing_Service">RDF_Storing_Service</a> supports the <a href="https://www.w3.org/TR/sparql11-http-rdf-update">SPARQL Graph Store Protocol</a>:
</p>
<ul class="org-ul">
<li>GET to get a graph
</li>
<li>PUT to write or overwrite a graph (see <a href="https://www.w3.org/TR/sparql11-http-rdf-update/#http-put">HTTP PUT</a> in the above specification)
</li>
<li>POST to add data to he graph
</li>
</ul>
<p>
In addition to NLP and NER results over the SIMMO (article), the same graph accommodates image annotations, and NLP/NER of video transcripts/ASR.
Therefore one should use a sequence like this to write all of the data:
</p>
<ul class="org-ul">
<li>PUT SIMMO
</li>
<li>POST ASR0
</li>
<li>POST ASR1 &#x2026;
</li>
<li>POST image0 annotation
</li>
<li>POST image1 annotation &#x2026;
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-6-1-2" class="outline-4">
<h4 id="sec-6-1-2"><span class="section-number-4">6.1.2</span> Graph Normalization</h4>
<div class="outline-text-4" id="text-6-1-2">
<p>
Submitting all SIMMO info in one graph makes storing it easier, but it also leads to duplication of common triples. Eg consider this:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=100,107&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Location</span>; <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Germany"</span>. <span style="color: #b22222;"># Common triples</span>
</pre>
</div>
<p>
If <code>dbr:Germany</code> appears 1000 times in SIMMOs, these common triples will be duplicated 1000 times in different named graphs.
This leads to extreme slowness of ElasticSearch indexing:
when adding the 1000th occurrence of <code>dbr:Germany</code> it indexes (the same) foaf:name "Germany" 1000 times,
i.e. storing time grows potentially quadratically with the number of SIMMOs.
</p>

<p>
The fix we implemented is <b>graph normalization</b>: the storing service examines every triple <code>&lt;s,p,o&gt;</code>.
</p>
<ul class="org-ul">
<li>If <code>s</code> starts with one of these prefixes the triple is stored in the default graph:
<pre class="example">
http://dbpedia.org
http://babelnet.org
</pre>
</li>
<li>Otherwise the triple is stored in the SIMMO graph.
</li>
</ul>
<p>
This still writes common triples 1000 times,
but there is no duplication since a triple can exist only once in a given graph.
</p>
<ul class="org-ul">
<li>Note: some SIMMOs contain subjects that don't have the SIMMO base URL as prefix,
namely embedded videos and images.
It's not correct to move them to the default graph, so we work with an explicit list of common prefixes.
</li>
</ul>
</div>

<div id="outline-container-sec-6-1-2-1" class="outline-5">
<h5 id="sec-6-1-2-1"><span class="section-number-5">6.1.2.1</span> Query Changes</h5>
<div class="outline-text-5" id="text-6-1-2-1">
<p>
The tradeoff is that you won't be able to get all SIMMO data by simply asking for a graph.
Eg query <a href="https://docs.google.com/document/d/1FfkiiTYvrLzHJ5P5j34NRVGPbXml0ndpNtiNbH2osRw/edit#heading=h.ngkjkg5b5zze">2.3 Retrieve NEs (Select)</a> was a bit sloppy, since it asked for certain types (and <code>foaf:name</code>) by graph, without looking for any relation:
</p>
<div class="org-src-container">

<pre class="src src-sparql"><span style="color: #a020f0;">SELECT</span> <span style="color: #a020f0;">DISTINCT</span> <span style="color: #a0522d;">?ne</span> <span style="color: #a0522d;">?type</span> <span style="color: #a0522d;">?name</span> {
  <span style="color: #a020f0;">GRAPH</span> <span style="color: #008b8b;">&lt;&gt;</span> {
    <span style="color: #a0522d;">?ne</span> a <span style="color: #a0522d;">?type</span>; foaf:name <span style="color: #a0522d;">?name</span>
    <span style="color: #a020f0;">FILTER</span> (<span style="color: #a0522d;">?type</span> <span style="color: #a020f0;">IN</span> (dbo:Person, dbo:Organization, nerd:Amount, nerd:Location, nerd:Time))}}
</pre>
</div>

<p>
After graph normalization is applied, we need to find the NEs by relation <code>its:taIdentRef</code>,
and get their common triples from outside the SIMMO graph:
</p>
<div class="org-src-container">

<pre class="src src-sparql"><span style="color: #a020f0;">SELECT</span> <span style="color: #a020f0;">distinct</span> <span style="color: #a0522d;">?ne</span> <span style="color: #a0522d;">?type</span> <span style="color: #a0522d;">?name</span> {
  <span style="color: #a020f0;">GRAPH</span> <span style="color: #008b8b;">&lt;&gt;</span> {
    [] its:taIdentRef <span style="color: #a0522d;">?ne</span>.
    <span style="color: #a0522d;">?ne</span> a <span style="color: #a0522d;">?type</span>}
    <span style="color: #a020f0;">FILTER</span> (<span style="color: #a0522d;">?type</span> <span style="color: #a020f0;">IN</span> (dbo:Person, dbo:Organization, nerd:Amount, nerd:Location, nerd:Time))}
  <span style="color: #a0522d;">?ne</span> foaf:name <span style="color: #a0522d;">?name</span>
}
</pre>
</div>
<p>
(This query works with or without graph normalization, since the part outside <code>GRAPH {..}</code> looks in all graphs, both SIMMO and default).
</p>
</div>
</div>

<div id="outline-container-sec-6-1-2-2" class="outline-5">
<h5 id="sec-6-1-2-2"><span class="section-number-5">6.1.2.2</span> Normalization Problems</h5>
<div class="outline-text-5" id="text-6-1-2-2">
<p>
Moving common triples outside of the SIMMO graph raises two problems:
</p>
<ul class="org-ul">
<li>If you examine the results of the query above, you'll see that some entities (eg <code>dbr:Facebook</code>) have several labels, eg
<pre class="example">
"Facebook, Inc."@en
"Facebook"^^xsd:string
</pre>
<p>
The reason is that different SIMMOs have different versions of the label, and different versions of the pipeline emit different literals ("en" language vs xsd:string).
Both of these labels will be indexed in ElasticSearch for all occurrences of this NE.
The pipeline has emitted the labels globally (as <code>foaf:name</code> of <code>dbr:Facebook</code>) rather than locally (eg as <code>nif:anchorOf</code>),
in effect asserting that both are globally valid labels of Facebook.
So that's a correct consequence of the data as stored.
</p>
</li>
<li>If the last SIMMO referring to a global NE is deleted, that NE will remain as "garbage" in the common graph.
But I don't think that is a significant problem, since the amount of such "garbage" won't be large, and since it is harmless.
</li>
</ul>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-6-2" class="outline-3">
<h3 id="sec-6-2"><span class="section-number-3">6.2</span> SIMMO Context</h3>
<div class="outline-text-3" id="text-6-2">
<p>
The basic structure of a SIMMO consists of:
</p>
<ul class="org-ul">
<li>a <code>foaf:Document</code> describing the source document. We use <code>dc:</code> for literals and <code>dct:</code> for resources (URLs)
</li>
<li>a <code>nif:Context</code> describing the full text of the article (the full text of any video transcriptions is separate).
</li>
</ul>
<div class="org-src-container">

<pre class="src src-Turtle">graph <span style="color: #0000ff;">&lt;&gt;</span> {
  <span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">type</span> <span style="color: #8b2252;">"article"</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">language</span> <span style="color: #8b2252;">"en"</span>;
    <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">countryCode</span> <span style="color: #8b2252;">"GB"</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">source</span> <span style="color: #8b2252;">"Guardian"</span>;
    <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span> <span style="color: #0000ff;">&lt;https://www.theguardian.com/uk-news/2016/jun/20/zane-gbangbola-inquest-neighbour-hydrogen-cyanide&gt;</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span> <span style="color: #8b2252;">"Caroline Davies"</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span>    <span style="color: #8b2252;">"2016-06-20T18:45:07.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>;
    <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">issued</span> <span style="color: #8b2252;">"2016-06-30T12:34:56.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>; 
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">title</span> <span style="color: #8b2252;">"I was told I might have 20 minutes to live, neighbour tells Zane inquest"</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">description</span> <span style="color: #8b2252;">"Zane&#8217;s parents Kye Gbangbola (front centre) and Nicole Lawler (right) at a protest..."</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">subject</span> <span style="color: #8b2252;">"Lifestyle &amp; Leisure"</span>;
    <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">keywords</span> <span style="color: #8b2252;">"UK news, Zane Gbangbola, Hydrogen Cyanide"</span>.

<span style="color: #0000ff;">&lt;#char=0,5307&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">RFC5147String,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;&gt;</span> .
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"5307"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"""I was told I might have 20 minutes to live, neighbour tells Zane inquest</span>
<span style="color: #8b2252;">Zane&#8217;s parents Kye Gbangbol</span><span style="color: #a020f0;">a</span><span style="color: #8b2252;"> (front centre) and Nicole Lawler (right) at </span><span style="color: #a020f0;">a</span><span style="color: #8b2252;"> protest in </span><span style="color: #228b22;">2014.</span>
<span style="color: #228b22;">Photograph:</span><span style="color: #008b8b;"> Lauren</span><span style="color: #8b2252;"> Hurley/PA ..."""</span>.
}
</pre>
</div>
<p>
Explanation:
</p>
<table border="1" cellspacing="0" cellpadding="2" rules="all" frame="box">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">element</th>
<th scope="col" class="left">meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>foaf:Document</b></td>
<td class="left">Basic SIMMO metadata</td>
</tr>

<tr>
<td class="left">dc:type</td>
<td class="left">kind of SIMMO</td>
</tr>

<tr>
<td class="left">dc:language</td>
<td class="left">Language of content</td>
</tr>

<tr>
<td class="left">dbp:countryCode</td>
<td class="left">Code of originaing country</td>
</tr>

<tr>
<td class="left">dc:source</td>
<td class="left">Literal identifying the source (newspaper or social network)</td>
</tr>

<tr>
<td class="left">dct:source</td>
<td class="left">URL of source article</td>
</tr>

<tr>
<td class="left">dc:creator</td>
<td class="left">Author: journalist, blogger, etc</td>
</tr>

<tr>
<td class="left">dc:date</td>
<td class="left">Timestamp when crawled</td>
</tr>

<tr>
<td class="left">dct:issued</td>
<td class="left">Timestamp when processed by pipeline and ingested to GraphDB</td>
</tr>

<tr>
<td class="left">dc:title</td>
<td class="left">Short title</td>
</tr>

<tr>
<td class="left">dc:description</td>
<td class="left">Longer description</td>
</tr>

<tr>
<td class="left">dc:subject</td>
<td class="left">Article subject, roughly corresponding to <a href="http://cv.iptc.org/newscodes/subjectcode">IPTC Subject Codes</a></td>
</tr>

<tr>
<td class="left">schema:keywords</td>
<td class="left">Free keywords</td>
</tr>
</tbody>
<tbody>
<tr>
<td class="left"><b>nif:Context</b></td>
<td class="left">"Reference Context": holds the full text, root of all NIF data.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">Each word/sentence points to it using nif:referenceContext.</td>
</tr>

<tr>
<td class="left">&#xa0;</td>
<td class="left">The URL <code>#char=&lt;beg,end&gt;</code> follows RFC 5147</td>
</tr>

<tr>
<td class="left">nif:sourceUrl</td>
<td class="left">Points to the SIMMO</td>
</tr>

<tr>
<td class="left">nif:beginIndex</td>
<td class="left">Always 0 for this node. A xsd:nonNegativeInteger</td>
</tr>

<tr>
<td class="left">nif:endIndex</td>
<td class="left">Length of the text</td>
</tr>

<tr>
<td class="left">nif:isString</td>
<td class="left">The full text</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Named Entity Recognition</h2>
<div class="outline-text-2" id="text-7">
<p>
This section describes the representation of NER in Multisensor
</p>
</div>

<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> NER Mapping</h3>
<div class="outline-text-3" id="text-7-1">
<p>
Multisensor recognizes a number of Named Entity types. The following table specifies potential NE properties and what they are mapped to.
</p>
<table border="1" cellspacing="0" cellpadding="2" rules="all" frame="box">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left"><b>Class</b> /Property</th>
<th scope="col" class="left"><b>Type/enum</b></th>
<th scope="col" class="left"><b>Mapping</b></th>
<th scope="col" class="left"><b>Notes</b></th>
</tr>
</thead>
<tbody>
<tr>
<td class="left"><b>all</b></td>
<td class="left">&#xa0;</td>
<td class="left">nif:Word or nif:Phrase</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">text</td>
<td class="left">string</td>
<td class="left">n/a</td>
<td class="left">nif:anchorOf omitted</td>
</tr>

<tr>
<td class="left">onset</td>
<td class="left">number</td>
<td class="left">nif:beginIndex</td>
<td class="left">start</td>
</tr>

<tr>
<td class="left">offset</td>
<td class="left">number</td>
<td class="left">nif:endIndex</td>
<td class="left">end</td>
</tr>

<tr>
<td class="left"><b>Person</b></td>
<td class="left">&#xa0;</td>
<td class="left">dbo:Person, foaf:Person; nerd:Person</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">test</td>
<td class="left">string</td>
<td class="left">foaf:name</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">firstname</td>
<td class="left">string</td>
<td class="left">foaf:firstName</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">lastname</td>
<td class="left">string</td>
<td class="left">foaf:lastName</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">gender</td>
<td class="left">male, female</td>
<td class="left">dbo:gender</td>
<td class="left">dbp:Male, dbp:Female</td>
</tr>

<tr>
<td class="left">occupation</td>
<td class="left">string</td>
<td class="left">rdau:professionOrOccupation</td>
<td class="left">dbo:occupation and dbo:profession are object props</td>
</tr>

<tr>
<td class="left"><b>Location</b></td>
<td class="left">type=other</td>
<td class="left">nerd:Location</td>
<td class="left">No need to use dbo:Location if you can't identify the type</td>
</tr>

<tr>
<td class="left"><b>Location</b></td>
<td class="left">type=country</td>
<td class="left">dbo:Country; nerd:Country</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left"><b>Location</b></td>
<td class="left">type=region</td>
<td class="left">dbo:Region; nerd:AdministrativeRegion</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left"><b>Location</b></td>
<td class="left">type=city</td>
<td class="left">dbo:City; nerd:City</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left"><b>Location</b></td>
<td class="left">type=street</td>
<td class="left">schema:PostalAddress; nerd:Location</td>
<td class="left">Put text in schema:streetAddress</td>
</tr>

<tr>
<td class="left"><b>Organisation</b></td>
<td class="left">type=institution</td>
<td class="left">dbo:Organisation, foaf:Organization; nerd:Organization</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left"><b>Organisation</b></td>
<td class="left">type=company</td>
<td class="left">dbo:Company, foaf:Company; nerd:Company</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left"><b>Product</b></td>
<td class="left">&#xa0;</td>
<td class="left">nerd:Product</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">type</td>
<td class="left">string</td>
<td class="left">not yet</td>
<td class="left">don't know yet what makes sense here</td>
</tr>

<tr>
<td class="left"><b>Time</b></td>
<td class="left">&#xa0;</td>
<td class="left">time:Instant; nerd:Time</td>
<td class="left">TODO: can you parse to XSD datetime components?</td>
</tr>

<tr>
<td class="left">year</td>
<td class="left">string</td>
<td class="left">time:Instant; nerd:Time</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">month</td>
<td class="left">string</td>
<td class="left">time:Instant OR yago:Months; nerd:Time</td>
<td class="left">if yago:Months then dbp:January&#x2026;</td>
</tr>

<tr>
<td class="left">day</td>
<td class="left">string</td>
<td class="left">time:Instant; nerd:Time</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">time</td>
<td class="left">string</td>
<td class="left">time:Instant; nerd:Time</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">weekday</td>
<td class="left">string</td>
<td class="left">yago:DaysOfTheWeek; nerd:Time</td>
<td class="left">dbp:Sunday,&#x2026; Put text in rdfs:label</td>
</tr>

<tr>
<td class="left">rel</td>
<td class="left">string</td>
<td class="left">nerd:Time</td>
<td class="left">relative expression, eg "the last three days"</td>
</tr>

<tr>
<td class="left">other</td>
<td class="left">string</td>
<td class="left">nerd:Time</td>
<td class="left">any other time expression, eg "Valentine's day"</td>
</tr>

<tr>
<td class="left"><b>Amount</b></td>
<td class="left">type=price</td>
<td class="left">schema:PriceSpecification; nerd:Amount</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">unit</td>
<td class="left">string</td>
<td class="left">schema:priceCurrency</td>
<td class="left">3-letter ISO 4217 format</td>
</tr>

<tr>
<td class="left">amount</td>
<td class="left">number</td>
<td class="left">schema:price</td>
<td class="left">"." as decimal separator</td>
</tr>

<tr>
<td class="left"><b>Amount</b></td>
<td class="left">type=unit</td>
<td class="left">schema:QuantitativeValue; nerd:Amount</td>
<td class="left">How about percentage??</td>
</tr>

<tr>
<td class="left">unit</td>
<td class="left">string</td>
<td class="left">schema:unitCode</td>
<td class="left">Strictly speaking, UN/CEFACT Common Code (eg GRM for grams)</td>
</tr>

<tr>
<td class="left">amount</td>
<td class="left">number</td>
<td class="left">schema:value</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left"><b>Name</b></td>
<td class="left">&#xa0;</td>
<td class="left">nerd:Thing</td>
<td class="left">&#xa0;</td>
</tr>

<tr>
<td class="left">type</td>
<td class="left">string</td>
<td class="left">dc:type</td>
<td class="left">a type if anything can be identified, otherwise empty</td>
</tr>
</tbody>
</table>

<p>
Notes
</p>
<ul class="org-ul">
<li>Classes are uppercase, Properties are lowercase
</li>
<li>A recognized Named Entity is attached to the word using <code>its:taIdentRef</code>
</li>
<li>NERD classes are attached to the word using <code>its:taClassRef</code>
</li>
<li>Other classes are attached to the NE using <code>rdf:type</code>.
</li>
<li>The Amount mapping uses schema.org classes/properties, which were borrowed from GoodRelations
</li>
<li><code>dbo:gender</code> is an object property, though it doesn't specify the values to use
</li>
<li><code>dc:type</code> is a literal. We attach it to the word directly
</li>
<li>We also include Provenance and Confidence for each annotation (see section <a href="#sec-4-10">4.10</a>)
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-2" class="outline-3">
<h3 id="sec-7-2"><span class="section-number-3">7.2</span> Named Entity URLs</h3>
<div class="outline-text-3" id="text-7-2">
<p>
We use two kinds of Named Entity URLs:
</p>
<ul class="org-ul">
<li>Global: if a NE can be identified in DBpedia or Babelnet, use its global URL, eg <code>dbr:Angela_Merkel</code>
</li>
<li>Local: if a NE is only recognized, but not globally identified, 
use per-document URL consisting of the type and label (replacing punctuation with "_"), eg <code>&lt;#Person=Angela_Merkel&gt;</code>. 
This does not allow two different John_Smiths in one document, but the chance of this to happen is small.
</li>
</ul>
<p>
Note on slash vs Hash: everyting after a # stripped by the client before it makes a HTTP request.
</p>
<ul class="org-ul">
<li>So hash is used for "sub-nodes" that will typically be served with one HTTP request
</li>
<li>In contrast, slash is used with large collections
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-7-3" class="outline-3">
<h3 id="sec-7-3"><span class="section-number-3">7.3</span> NER Examples</h3>
<div class="outline-text-3" id="text-7-3">
<p>
Examples of various kinds of Named Entities as per the above mapping.
</p>
<ul class="org-ul">
<li>I made up some word/phrase occurrences. I use <code>nif:anchorOf</code> to illustrate the
word/phrase, and omit <code>nif:beginIndex</code> and <code>nif:endIndex</code>
</li>
<li>In a couple cases I've embedded rdfs:comment and rdfs:seeAlso to illustrate a point. 
Of course, thse won't be present in the actual RDF.
</li>
</ul>

<p>
<a href="./img/MS-NER.ttl">./img/MS-NER.ttl</a>
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Various kinds of Named Entities as per Multisensor-NER-Mapping</span>

@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/12486u3968u39&gt;</span>.

<span style="color: #0000ff;">&lt;#char=1,2&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Angela Merkel"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Person</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#person=Angela_Merkel&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#person=Angela_Merkel&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Person,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Person</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Angela Merkel"</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">firstName</span> <span style="color: #8b2252;">"Angela"</span>; <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">lastName</span> <span style="color: #8b2252;">"Merkel"</span>;
  <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">gender</span> <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">Female</span>;
  <span style="color: #228b22;">rdau:</span><span style="color: #008b8b;">professionOrOccupation</span> <span style="color: #8b2252;">"Bundeskanzlerin"</span>@de.

<span style="color: #0000ff;">&lt;#char=3,4&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Germany"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Country</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#location=Germany&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#location=Germany&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Country</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Germany"</span>.

<span style="color: #0000ff;">&lt;#char=5,6&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Hesse region"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">AdministrativeRegion</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#location=Hesse&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#location=Hesse&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Region</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Hesse"</span>.

<span style="color: #0000ff;">&lt;#char=7,8&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Darmstadt"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">City</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#location=Darmstadt&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#location=Darmstadt&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">City</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Darmstadt"</span>.

<span style="color: #0000ff;">&lt;#char=9,10&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"135 Tsarigradsko Shosse Blvd."</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Location</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#location=135_Tsarigradsko_Shosse_Blvd&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#location=135_Tsarigradsko_Shosse_Blvd&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">schema:</span><span style="color: #008b8b;">PostalAddress</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">streetAddress</span> <span style="color: #8b2252;">"135 Tsarigradsko Shosse Blvd."</span>.

<span style="color: #0000ff;">&lt;#char=11,12&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"the dark side of the Moon"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Location</span>.

<span style="color: #0000ff;">&lt;#char=13,14&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"The United Nations"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Organization</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#organisation=The_United_Nations&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#organisation=The_United_Nations&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Organisation,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Organization</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"The United Nations"</span>.

<span style="color: #0000ff;">&lt;#char=15,16&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Ontotext Corp"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Company</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#organisation=Ontotext_Corp&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#organisation=Ontotext_Corp&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Company,</span><span style="color: #b22222;"> </span><span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Company</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Ontotext Corp"</span>.

<span style="color: #0000ff;">&lt;#char=17,18&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"AEG Smart-Freeze Refrigerator"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Product</span>.

<span style="color: #0000ff;">&lt;#char=19,20&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"2050"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#time=2050&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#time=2050&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">time:</span><span style="color: #008b8b;">Instant</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">time:</span><span style="color: #008b8b;">inXSDDateTime</span> <span style="color: #8b2252;">"2050"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">gYear</span>.

<span style="color: #0000ff;">&lt;#char=21,22&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"May 2050"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#time=May_2050&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#time=May_2050&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">time:</span><span style="color: #008b8b;">Instant</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">time:</span><span style="color: #008b8b;">inXSDDateTime</span> <span style="color: #8b2252;">"2050-05-01"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">gYearMonth</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"The correct value is 2050-05 but my JSONLD convertor throws exception"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">seeAlso</span> <span style="color: #0000ff;">&lt;https://github.com/jsonld-java/jsonld-java/issues/130&gt;</span>.

<span style="color: #0000ff;">&lt;#char=41,42&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Mei"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">May</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">May</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">Months</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"May"</span>@en, <span style="color: #8b2252;">"Mei"</span>@de.

<span style="color: #0000ff;">&lt;#char=23,24&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"15 May 2050"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#time=15_May_2050&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#time=15_May_2050&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">time:</span><span style="color: #008b8b;">Instant</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">time:</span><span style="color: #008b8b;">inXSDDateTime</span> <span style="color: #8b2252;">"2050-05-15"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">date</span>.

<span style="color: #0000ff;">&lt;#char=25,26&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"1:34pm"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#time=1_34pm&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#time=1_34pm&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">time:</span><span style="color: #008b8b;">Instant</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Convert to xsd:time, which means complete it to minutes"</span>;
  <span style="color: #228b22;">time:</span><span style="color: #008b8b;">inXSDDateTime</span> <span style="color: #8b2252;">"13:34:00"</span><span style="color: #008b8b;">^^xsd:time</span>.

<span style="color: #0000ff;">&lt;#char=39,40&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"15 May 2050 1:34pm"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#time=15_May_2050_1_34pm&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#time=15_May_2050_1_34pm&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">time:</span><span style="color: #008b8b;">Instant</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">time:</span><span style="color: #008b8b;">inXSDDateTime</span> <span style="color: #8b2252;">"2050-05-15T13:34:00"</span><span style="color: #008b8b;">^^xsd:datetime</span>.

<span style="color: #0000ff;">&lt;#char=27,28&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Zondag"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">Sunday</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">Sunday</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">DaysOfTheWeek</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Sunday"</span>@en, <span style="color: #8b2252;">"Zondag"</span>@de.

<span style="color: #0000ff;">&lt;#char=29,30&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"the last three days"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>.

<span style="color: #0000ff;">&lt;#char=31,32&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Valentine's day"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Time</span>.

<span style="color: #0000ff;">&lt;#char=33,34&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"123,40 EUR"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Amount</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#amount=123_40_EUR&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#amount=123_40_EUR&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">schema:</span><span style="color: #008b8b;">PriceSpecification</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">priceCurrency</span> <span style="color: #8b2252;">"EUR"</span>;
  <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">price</span> 123.40.

<span style="color: #0000ff;">&lt;#char=35,36&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"123,40 meters"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Amount</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #0000ff;">&lt;#amount=123_40_meters&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#amount=123_40_meters&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">schema:</span><span style="color: #008b8b;">QuantitativeValue</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">unitCode</span> <span style="color: #8b2252;">"MTR"</span>;
  <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">value</span> 123.40.

<span style="color: #0000ff;">&lt;#char=37,38&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"Dodo"</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Thing</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">type</span> <span style="color: #8b2252;">"mythical creature"</span>.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-7-4" class="outline-3">
<h3 id="sec-7-4"><span class="section-number-3">7.4</span> Babelnet Concepts</h3>
<div class="outline-text-3" id="text-7-4">
<p>
The MS Entity Linking service uses Babelfy to annotate SIMMOs with Babelnet concepts.
Babelnet is a large-scale linguistic resource, integrating WordNet, different language versions of Wikipedia, Geonames, etc.
</p>

<p>
After annotation with Babelnet concepts, we wanted to obtain more details about them then just the label (see below).
The whole Babelnet dataset is not available for download, but one can get the entities one by one.
We fetched all Babelnet entities found by MS and their broader concepts, as <a href="https://docs.google.com/document/d/1FfkiiTYvrLzHJ5P5j34NRVGPbXml0ndpNtiNbH2osRw/edit#heading=h.ox8sifjjf4q4">documented here and next section</a>.
MS found 324k occurrences of 31k Babelnet entities, which grows to 46k when we get their broaders (recursively).
</p>

<p>
We recorded various info, including EN, ES, DE, BG labels (where available); DBpedia, Wordnet and Geonames links; DBpedia categories. 
These will be put in the default graph, not in per-SIMMO graphs, see sec <a href="#sec-6-1-2">6.1.2</a>.
Note: Babelnet uses <code>lemon:isReferenceOf</code> and <code>lemon:LexicalSense</code> to express the labels, but we use a simpler representation with <code>skos:prefLabel</code>.
E.g. for The Hague:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00000002n</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span>               <span style="color: #8b2252;">"The Hague"</span>@en, <span style="color: #8b2252;">"Den Haag"</span>@de, <span style="color: #8b2252;">"&#1061;&#1072;&#1075;&#1072;"</span>@bg;
  <span style="color: #228b22;">bn-lemon:</span><span style="color: #008b8b;">dbpediaCategory</span>     <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">Populated_coastal_places_in_the_Netherlands,</span> <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">1248_establishments,</span> 
                               <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">Provincial_capitals_of_the_Netherlands,</span> <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">The_Hague,</span> <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">Populated_places_in_South_Holland,</span> <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">Populated_places_established_in_the_13th_century,</span> <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">Cities_in_the_Netherlands,</span> 
                               <span style="color: #228b22;">dbc:</span><span style="color: #008b8b;">Port_cities_and_towns_of_the_North_Sea</span>;
  <span style="color: #228b22;">bn-lemon:</span><span style="color: #008b8b;">synsetID</span>            <span style="color: #8b2252;">"bn:00000002n"</span>;
  <span style="color: #228b22;">bn-lemon:</span><span style="color: #008b8b;">synsetType</span>          <span style="color: #8b2252;">"NE"</span>;
  <span style="color: #228b22;">bn-lemon:</span><span style="color: #008b8b;">wiktionaryPageLink</span>  <span style="color: #228b22;">wiktionary:</span><span style="color: #008b8b;">The_Hague</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">license</span>                  <span style="color: #0000ff;">&lt;http://creativecommons.org/licenses/by-nc-sa/3.0/&gt;</span>;
  <span style="color: #228b22;">lexinfo:</span><span style="color: #008b8b;">partHolonym</span>          <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00044423n</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">broader</span>                 <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00064917n,</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00015498n,</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s15898622n,</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s03335997n,</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s10245001n,</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00056922n,</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00019319n</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">exactMatch</span>              <span style="color: #228b22;">freebase:</span><span style="color: #008b8b;">m</span>.07g0_, <span style="color: #228b22;">lemon-Omega:</span><span style="color: #008b8b;">OW_eng_Synset_22362,</span> <span style="color: #228b22;">lemon-WordNet31:</span><span style="color: #008b8b;">108970180-n,</span> 
                               <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">The_Hague,</span> <span style="color: #228b22;">yago:</span><span style="color: #008b8b;">The_Hague,</span> <span style="color: #228b22;">geonames:</span><span style="color: #008b8b;">2747373</span> .
</pre>
</div>
</div>

<div id="outline-container-sec-7-4-1" class="outline-4">
<h4 id="sec-7-4-1"><span class="section-number-4">7.4.1</span> Generic vs Specific Concepts</h4>
<div class="outline-text-4" id="text-7-4-1">
<p>
The Concept Extraction Service makes a distinction between Generic vs Specific Babelnet concepts,
which is used by the Summarization service.
</p>
<ul class="org-ul">
<li>Generic concept
</li>
<li>Specific concept: specific to the Multisensor domain, which is recognized by statistical analysis over the MS SIMMO corpus
</li>
</ul>
<p>
Consider the following example: "Wind turbines are complex engineering systems":
</p>
<ul class="org-ul">
<li>bn:s00081274n "wind turbine" is a specific concept (since MS includes a lot of energy-related articles)
</li>
<li>bn:s00075759n "system" is a generic concept
</li>
</ul>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=0,45&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Wind turbines are complex engineering systems"</span>.

<span style="color: #0000ff;">&lt;#char=0,13&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Phrase</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,45&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> 0;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> 13;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"Wind turbines"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00081274n</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">SpecificConcept</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00081274n</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"wind turbine"</span>@en, <span style="color: #8b2252;">"aerogenerador"</span>@es.

<span style="color: #0000ff;">&lt;#char=38,45&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,45&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> 38;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> 45;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"system"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00075759n</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">taClassRef</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">GenericConcept</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00075759n</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"system"</span>@en, <span style="color: #8b2252;">"sistema"</span>@es.
</pre>
</div>

<p>
The two new classes that we use are defined in the MS ontology:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;">GenericConcept</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">Class</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">subClassOf</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"GenericConcept"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Generic concept that doesn't belong to a specific domain"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">SpecificConcept</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">Class</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">subClassOf</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"SpecificConcept"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Concept that is specific to a Multisensor domain, determined by statistical analysis over the Multisensor SIMMO corpus"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>.
</pre>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-8" class="outline-2">
<h2 id="sec-8"><span class="section-number-2">8</span> Relation Extraction</h2>
<div class="outline-text-2" id="text-8">
<p>
We represent Relation Extraction information using FrameNet. This more complex topic is developed in its own folder <a href="./FrameNet/">./FrameNet/</a> and a paper:
</p>
<ul class="org-ul">
<li><a href="http://vladimiralexiev.github.io/Multisensor/FrameNet/paper.pdf">FN goes NIF: Integrating FrameNet in the NLP Interchange Format</a>. Alexiev, V.; and Casamayor, G. In Linked Data in Linguistics (LDL-2016): Managing, Building and Using Linked Language Resources, Portorož, Slovenia, May 2016.
</li>
<li>Also see: <a href="http://vladimiralexiev.github.io/Multisensor/FrameNet/pres.html">interactive presentation</a>, <a href="http://vladimiralexiev.github.io/Multisensor/FrameNet/pres-full.html">continuous HTML</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-9" class="outline-2">
<h2 id="sec-9"><span class="section-number-2">9</span> Complex NLP Annotations</h2>
<div class="outline-text-2" id="text-9">
<p>
The example below shows realistic annotations for the word "East", including:
</p>
<ul class="org-ul">
<li>binding to the text (<code>nif:referenceContext</code>)
</li>
<li>word and lemma (<code>nif:anchorOf, nif:lemma</code>)
</li>
<li>demarkating the substring (<code>nif:beginIndex, nif:endIndex</code>)
</li>
<li>part of speech tagging (<code>nif:oliaLink penn:NNP</code>)
</li>
<li>surface and deep dependency parsing (<code>nif:dependency, upf-deep:deepDependency</code>)
</li>
<li>FrameNet (<code>nif:oliaLink &lt;#char=0,4_fe&gt;</code> and linked structures)
</li>
<li>Babelnet concept (the <code>&lt;#char=0,4-annot-BabelNet&gt;</code> node)
</li>
<li><code>GenericConcept</code> vs <code>SpecificConcept</code> annotation
</li>
</ul>
<p>
The UPF NLP pipeline step first produces <code>nif:literalAnnotation</code>, and from that makes appropriate structured properties.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=0,4&gt;</span><span style="color: #b22222;">                </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span>             <span style="color: #8b2252;">"East"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">lemma</span>                <span style="color: #8b2252;">"east"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span>           <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span>             <span style="color: #8b2252;">"4"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span>     <span style="color: #0000ff;">&lt;#char=0,12793&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">oliaLink</span>             <span style="color: #228b22;">upf-deep:</span><span style="color: #008b8b;">NAME,</span> <span style="color: #228b22;">upf-dep-syn:</span><span style="color: #008b8b;">NAME,</span> <span style="color: #0000ff;">&lt;#char=0,4_fe&gt;</span><span style="color: #b22222;">, </span><span style="color: #228b22;">penn:</span><span style="color: #008b8b;">NNP</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">dependency</span>           <span style="color: #0000ff;">&lt;#char=5,11&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">upf-deep:</span><span style="color: #008b8b;">deepDependency</span>  <span style="color: #0000ff;">&lt;#char=5,11&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">annotationUnit</span>   <span style="color: #0000ff;">&lt;#char=0,4-annot-BabelNet&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">literalAnnotation</span>    <span style="color: #8b2252;">"deep=spos=NN"</span>, <span style="color: #8b2252;">"surf=spos=NN"</span>,
                           <span style="color: #8b2252;">"rel==dpos=NN|end_string=4|id0=1|start_string=0|number=SG|word=east|connect_check=OK|vn=east"</span>.

<span style="color: #0000ff;">&lt;#char=0,4-annot-BabelNet&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">AnnotationUnit</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">confidence</span>       <span style="color: #8b2252;">"0.9125974876"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span>;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">provenance</span>       <span style="color: #0000ff;">&lt;http://babelfy.org/&gt;</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span>           <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">GenericConcept</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span>           <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s00029050n</span> .
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-10" class="outline-2">
<h2 id="sec-10"><span class="section-number-2">10</span> Multimedia Annotation</h2>
<div class="outline-text-2" id="text-10">
<p>
MS includes 2 multimedia services that are integrated in RDF:
</p>
<ul class="org-ul">
<li>Automatic Speech Recognition (ASR) that provides raw text extracted from the video; followed by NLP and NER
</li>
<li>Concept and Event Detection that provides a list of the concepts appearing in images/videos, with a degree of confidence.
</li>
</ul>
<p>
Being able to search for concepts detected in images, videos, and/or audio (speech recognition) is a useful multimedia search feature.
</p>

<p>
The basic NIF representation is like this:
</p>
<ul class="org-ul">
<li>SIMMO
<ul class="org-ul">
<li>referenceContext
<ul class="org-ul">
<li>Sentences
<ul class="org-ul">
<li>Words/Phrases
<ul class="org-ul">
<li>its:taIdentRef = list of recognized Concepts / Named Entities
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

<p>
We extend it for multimedia content as follows:
</p>
<ul class="org-ul">
<li>SIMMO
<ul class="org-ul">
<li>dct:hasPart dctype:StillImage = images present in the article
<ul class="org-ul">
<li>oa:Annotation = list of Concepts/Events detected per image, with confidence score
</li>
</ul>
</li>
<li>dct:hasPart dctype:MovingImage = videos present in the article
<ul class="org-ul">
<li>oa:Annotation = 3 to 5 most confident Concepts/Events detected in the video, with confidence score
</li>
<li>ms:hasCaption = text extracted by Automatic Speech recognition
<ul class="org-ul">
<li>its:taIdentRef = recognized Concepts / Named Entities 
</li>
</ul>
</li>
<li>dct:hasPart dctype:StillImage = some frames (images) extracted from the video
<ul class="org-ul">
<li>oa:Annotation = Concepts/Events detected per image, with confidence score
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<div id="outline-container-sec-10-1" class="outline-3">
<h3 id="sec-10-1"><span class="section-number-3">10.1</span> Automatic Speech Recognition</h3>
<div class="outline-text-3" id="text-10-1">
<p>
The audio track of videos embedded in articles (SIMMOs) is passed through Automatic Speech Recognition (ASR).
This results in two products:
</p>
<ul class="org-ul">
<li>Plain text <b>Transcript</b> that is passed through text analysis (NER and other NIF annotations).
The transcript is analyzed same as the main article text. So it has similar structure to the SIMMO, with the following differences
<ul class="org-ul">
<li>The transcript doesn't have sentence boundaries thus no NIF sentence structure.
</li>
<li>The transcript doesn't have context properties such as author, publication date, etc
</li>
<li>The transcript is subsidiary to the article, following this nesting structure:
<ul class="org-ul">
<li><b>Article</b> -dct:hasPart-&gt; <b>Video</b> -ms:hasCaption-&gt; <b>Caption</b> &lt;-nif:sourceUrl- <b>Transcript</b>
</li>
<li>Note: I considered inserting Video - <b>Audio</b> - Caption
but decided against it since we don't have any statements about the Audio
</li>
</ul>
</li>
</ul>
</li>
<li>Structured <b>Captions</b> in <a href="https://w3c.github.io/webvtt/">Web Video Text Tracks (WebVTT)</a> format (MIME type "text/vtt").
The Caption file is not stored in RDF, only a link to it is in RDF
</li>
</ul>

<p>
Notes:
</p>
<ul class="org-ul">
<li>Assume that <a href="http://blog.hgtv.com/terror/2014/09/08/video">http://blog.hgtv.com/terror/2014/09/08/video</a> is the 0th video in <a href="http://blog.hgtv.com/terror/2014/09/08/article">http://blog.hgtv.com/terror/2014/09/08/article</a>
</li>
<li>Both the article and video mention "Germany" which is recognized as a named entity.
This is just for the sake of illustration and comparison, and we don't show any other NIF statements
</li>
<li>The video is accessed from the source URL and not copied to an MS server
We make statements against the video URL, rather than making a MS URL (same as for Images).
If copied to an MS server, it's better to make statements against that URL
</li>
<li>The Caption is stored on a MS server in the indicated directory.
</li>
<li>The Transcript (bottom  nif:Context) uses the Caption as nif:sourceUrl.
</li>
<li>The Transcript's URL is subsidiary to (has as prefix) the SIMMO URL. Since we can't use two <code>#</code> in a URL, we use <code>-</code> before the <code>transcript</code> part and <code>#</code> after it. The number 0 is the sequential count (0th video)
</li>
</ul>

<p>
<a href="./img/NIF-ASR.ttl">./img/NIF-ASR.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/fb086c&gt;</span>.
<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span> <span style="color: #8b2252;">"John Smith"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span> <span style="color: #8b2252;">"2014-09-08T17:15:34.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"24"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Article mentions Germany"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;&gt;</span>.

<span style="color: #0000ff;">&lt;#char=17,24&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"17"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"24"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"Germany"</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">hasPart</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">MovingImage</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"video/mp4"</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">hasCaption</span> <span style="color: #0000ff;">&lt;-transcript0&gt;</span>.

<span style="color: #0000ff;">&lt;-transcript0&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">Text</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"text/vtt"</span>.

<span style="color: #0000ff;">&lt;-transcript0#char=0,27&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"27"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Transcript mentions Germany"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;-transcript0&gt;</span>.

<span style="color: #0000ff;">&lt;-transcript0#char=20,27&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;-transcript0#char=0,27&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"20"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"27"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"Germany"</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Germany</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">nerd:</span><span style="color: #008b8b;">Location,</span> <span style="color: #228b22;">dbo:</span><span style="color: #008b8b;">Country</span>; <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Germany"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-10-1-1" class="outline-4">
<h4 id="sec-10-1-1"><span class="section-number-4">10.1.1</span> ASR Diagram</h4>
<div class="outline-text-4" id="text-10-1-1">

<div class="figure">
<p><img src="./img/NIF-ASR.png" alt="NIF-ASR.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-10-1-2" class="outline-4">
<h4 id="sec-10-1-2"><span class="section-number-4">10.1.2</span> hasCaption Property</h4>
<div class="outline-text-4" id="text-10-1-2">
<p>
I was hoping that I can find a property to express "ASR transcript of an audio" in the ISOcat register or GOLD.
There's nothing appropriate in GOLD but I found an entry in <a href="http://www.isocat.org/rest/profile/19">http://www.isocat.org/rest/profile/19</a>:
</p>
<ul class="org-ul">
<li>PID: <a href="http://www.isocat.org/datcat/DC-4064">http://www.isocat.org/datcat/DC-4064</a>
</li>
<li>Identifier: audioTranscription
</li>
<li>Definition: The conversion of the spoken word to a text format in the same language.
</li>
<li>Source: <a href="http://www.forensic-audio.net/spanish-transcription-vs-audio-translation.php">http://www.forensic-audio.net/spanish-transcription-vs-audio-translation.php</a> (the source site doesn't exist anymore)
</li>
</ul>
<p>
This is also available as RDF at <a href="http://www.isocat.org/datcat/DC-4064.rdf">http://www.isocat.org/datcat/DC-4064.rdf</a> (which redirects to <a href="http://www.isocat.org/rest/dc/4064.rdf">http://www.isocat.org/rest/dc/4064.rdf</a>), but the info is minimal:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;http://www.isocat.org/datcat/DC-4064&gt;</span>
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span>  <span style="color: #8b2252;">"The conversion of the spoken word to a text format in the same language."</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span>    <span style="color: #8b2252;">"audio transcription"</span>@en .
</pre>
</div>
<p>
The datahub entry for ISOcat <a href="https://datahub.io/dataset/isocat">https://datahub.io/dataset/isocat</a> claims that
full profiles are available as RDF at <a href="https://catalog.clarin.eu/isocat/rest/profile/19.rdf">https://catalog.clarin.eu/isocat/rest/profile/19.rdf</a>, but this link is broken.
I found an (unofficial?) RDF dump of profile 5 at <a href="http://www.sfs.uni-tuebingen.de/nalida/images/isocat/profile-5-full.rdf">http://www.sfs.uni-tuebingen.de/nalida/images/isocat/profile-5-full.rdf</a>
but not of profile 19.
</p>

<p>
What is worse, there is no property name defined (eg <code>isocat:audioTranscription</code>), no domain and range.
We'll certainly won't use something like <code>isocat:DC-4064</code> to name our properties.
</p>

<p>
After this disappointment, we defined our own property:
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;">hasCaption</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">ObjectProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">MovingImage</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">range</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">Text</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"hasCaption"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Transcript or ASR of a video (dctype:MovingImage) expressed as dctype:Text"</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10-2" class="outline-3">
<h3 id="sec-10-2"><span class="section-number-3">10.2</span> Basic Image Annotation</h3>
<div class="outline-text-3" id="text-10-2">
<p>
Before describing how an image in SIMMO is annotated, let's consider how to annotate (enrich) a <b>single</b> image.
Since images are not text, NIF mechanisms are completely inappropriate: there are no nif:Strings to be found in images.
</p>

<p>
Look at this image:<br  />
<a href="http://images.zeit.de/hamburg/stadtleben/2015-08/drage-vermisste/drage-vermisste-540x304.jpg"><img src="http://images.zeit.de/hamburg/stadtleben/2015-08/drage-vermisste/drage-vermisste-540x304.jpg" alt="drage-vermisste-540x304.jpg" /></a>
</p>

<p>
NOTE: It's recommended to copy the images to an internal server, to ensure that they will be available in the future. 
If the above image disappears, statements about its URL will be useless.
</p>

<p>
The CED annotates images with heuristic tags and confidence, eg like this (many more tags are produced for this image):
</p>
<pre class="example">
Concepts3_Or_More_People # 0.731893
Amateur_Video            # 0.884379
Armed_Person             # 0.35975
</pre>

<p>
We represent this in RDF using:
</p>
<ul class="org-ul">
<li>OpenAnnotation (basic representation) 
</li>
<li>Stanbol FISE (confidence)
</li>
</ul>
<p>
Unfortunately OA has no standard way to express confidence, which is essential for this
use case. I have raised this as <a href="https://github.com/restful-open-annotation/spec/issues/3">https://github.com/restful-open-annotation/spec/issues/3</a>.
</p>
</div>

<div id="outline-container-sec-10-2-1" class="outline-4">
<h4 id="sec-10-2-1"><span class="section-number-4">10.2.1</span> Basic Representation with Open Annotation</h4>
<div class="outline-text-4" id="text-10-2-1">
<p>
The <a href="http://www.w3.org/TR/annotation-model/">Web Annotation Data Model</a> (also known as Open Annotation, OA) is widely used for all
kinds of associating two or several resources: bookmarking, tagging, commenting,
annotating, transcription (associating the image of eg handwritten text with the
deciphered textual resources), compositing pieces of a manuscript (SharedCanvas), etc.
</p>

<p>
The OA ontology has gone through a huge number of revisions at various sites. To avoid confusion:
</p>
<ul class="org-ul">
<li>The latest ontology is dated 2015-08-20 and is published at
<a href="http://w3c.github.io/web-annotation/vocabulary/wd/">http://w3c.github.io/web-annotation/vocabulary/wd/</a>. It's still a draft (some editorial
text is missing), but the ontology is usable
</li>
<li>The master RDF file is at <a href="https://raw.githubusercontent.com/w3c/web-annotation/gh-pages/vocabulary/oa.ttl">https://raw.githubusercontent.com/w3c/web-annotation/gh-pages/vocabulary/oa.ttl</a>
</li>
<li>The namespace URL <a href="http://www.w3.org/ns/oa">http://www.w3.org/ns/oa</a> serves an <b>obsolete</b> version
</li>
</ul>

<p>
We represent image annotations as <a href="http://www.w3.org/TR/annotation-model/#semantic-tags">oa:SemanticTag</a>:
</p>
<ul class="org-ul">
<li>The image is the <b>target</b>, tags are (linked to) <b>bodies</b>
</li>
<li>The tags are expressed as <code>oa:SemanticTag</code>. 
</li>
<li>OA asks us to describe the nature of the relation as a specific <a href="http://www.w3.org/TR/annotation-model/#motivations">oa:motivatedBy</a>. In this
case I picked <b>oa:tagging</b>.
</li>
<li>We state the nature of the resource as rdf:type dctype:Image, and its mime type as
dc:format.
</li>
<li>We record basic creation (provenance) information.
</li>
<li>In this example we use a custom property <b>ms:confidence</b> but in production we use Stanbol FISE for confidence.
</li>
</ul>

<p>
<a href="./img/annot-image-oa.ttl">./img/annot-image-oa.ttl</a>
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-annot:</span>1234153426
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>;
  <span style="color: #228b22;">oa:</span>hasBody
    <span style="color: #228b22;">ms-annot:</span>1234153426-Concepts3_Or_More_People,
    <span style="color: #228b22;">ms-annot:</span>1234153426-Amateur_Video,
    <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-Armed_Person</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2015-10-01T12:34:56"</span><span style="color: #008b8b;">^^xsd:dateTime</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">Image</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"image/jpeg"</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;">SoftwareAgent</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"CERTH Image Annotator v1.0"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span>1234153426-Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Concepts3_Or_More_People</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.731893.</span>
<span style="color: #228b22;">ms-annot:</span>1234153426-Amateur_Video
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Amateur_Video</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.884379.</span>
<span style="color: #228b22;">ms-annot:</span>1234153426-Armed_Person
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Armed_Person</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.35975.</span>

<span style="color: #228b22;">ms-concept:</span>Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Concepts: 3 or More People"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-concept:</span>Amateur_Video
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept,</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Amateur Video"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-concept:</span>Armed_Person
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept,</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Armed Person"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">right</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">left</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-10-2-1-1" class="outline-5">
<h5 id="sec-10-2-1-1"><span class="section-number-5">10.2.1.1</span> Open Annotation Diagram</h5>
<div class="outline-text-5" id="text-10-2-1-1">

<div class="figure">
<p><img src="./img/annot-image-oa.png" alt="annot-image-oa.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10-2-2" class="outline-4">
<h4 id="sec-10-2-2"><span class="section-number-4">10.2.2</span> Representing Confidence with Stanbol FISE</h4>
<div class="outline-text-4" id="text-10-2-2">
<p>
Apache Stanbol defines an "enhancement structure" using the FISE ontology,
which amongst other things defines <code>fise:confidence</code>.
We want to use <a href="http://stanbol.apache.org/docs/trunk/components/enhancer/enhancementstructure.html#fisetopicannotation">fise:TopicAnnotation</a> that goes like this:<br  />
<img src="http://stanbol.apache.org/docs/trunk/components/enhancer/es_topicannotation.png" alt="es_topicannotation.png" />
</p>

<p>
As you see, it points to <code>fise:TextAnnotation</code> using <code>dc:relation</code>;
if <a href="http://stanbol.apache.org/docs/trunk/components/enhancer/enhancementstructure.html#overview-on-the-stanbol-enhancement-structure">you scroll to the top</a>, you'll see that points further to the (textual) annotated resource (<code>ContentItem</code>):
we don't want that since we have image not text. But there are
also <code>fise:extracted-from</code> (dashed arrows) pointing directly to the resource.
The <b>NIF+Stanbol</b> profile shows the same idea of using <code>fise:extracted-from</code> directly:<br  />
<img src="./20141008-Linguistic-LD/img/NIF-profiles.png" alt="NIF-profiles.png" />
</p>

<p>
We bastardize the ontology a bit:
</p>
<ul class="org-ul">
<li>skip <code>dc:relation</code>, as we don't have <code>fise:TextAnnotation</code>
</li>
<li>skip <code>fise:entity-label</code>, as it just repeats skos:prefLabel of the concept
</li>
<li>skip <code>fise:entity-type</code>, as it just repeats rdf:type of the concept
</li>
</ul>

<p>
Removing redundancy:
</p>
<ul class="org-ul">
<li>The construct of using <code>skos:related</code> is doubtful and <a href="https://lists.w3.org/Archives/Public/public-annotation/2015Sep/0184.html">will likely be removed</a>, but for now we'll use it
</li>
<li>The direct link <code>fise:extracted-from</code> to the image is redundant since <code>oa:hasTarget</code> already points there. So we can skip it
</li>
</ul>

<p>
<a href="./img/annot-image-fise.ttl">./img/annot-image-fise.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-annot:</span>1234153426
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>;
  <span style="color: #228b22;">oa:</span>hasBody
    <span style="color: #228b22;">ms-annot:</span>1234153426-Concepts3_Or_More_People,
    <span style="color: #228b22;">ms-annot:</span>1234153426-Amateur_Video,
    <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-Armed_Person</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2015-10-01T12:34:56"</span><span style="color: #008b8b;">^^xsd:dateTime</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span>1234153426-Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Concepts3_Or_More_People</span>; <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">entity-reference</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Concepts3_Or_More_People</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">extracted-from</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.731893.</span>
<span style="color: #228b22;">ms-annot:</span>1234153426-Amateur_Video
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Amateur_Video</span>; <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">entity-reference</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Amateur_Video</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">extracted-from</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.884379.</span>
<span style="color: #228b22;">ms-annot:</span>1234153426-Armed_Person
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Armed_Person</span>; <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">entity-reference</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Armed_Person</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">extracted-from</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.35975.</span>

<span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">Image</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"image/jpeg"</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;">SoftwareAgent</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"CERTH Image Annotator v1.0"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-concept:</span>Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Concepts: 3 or More People"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-concept:</span>Amateur_Video
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept,</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Amateur Video"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-concept:</span>Armed_Person
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept,</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Armed Person"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">InlineProperty</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">right</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">left</span> <span style="color: #0000ff;">&lt;http://images.zeit.de/...-540x304.jpg&gt;</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-10-2-2-1" class="outline-5">
<h5 id="sec-10-2-2-1"><span class="section-number-5">10.2.2.1</span> Stanbol FISE Diagram</h5>
<div class="outline-text-5" id="text-10-2-2-1">

<div class="figure">
<p><img src="./img/annot-image-fise.png" alt="annot-image-fise.png" />
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10-3" class="outline-3">
<h3 id="sec-10-3"><span class="section-number-3">10.3</span> Annotating Images</h3>
<div class="outline-text-3" id="text-10-3">
<p>
Assume that <code>http://blog.hgtv.com/terror/2014/09/08/image.jpg</code> is an 0th image in <code>http://blog.hgtv.com/terror/2014/09/08/article</code> and:
</p>
<ul class="org-ul">
<li>The article mentions SWAT, which is coreferenced to <code>dbr:SWAT</code>
</li>
<li>CED has recognized in the image the same concept <code>dbr:SWAT</code> with confidence 0.9
</li>
<li>CED has recognized a local concept <code>ms-concept:Concepts3_Or_More_People</code> with lower confidence 0.3
</li>
</ul>
<p>
We follow the approach in sec <a href="#sec-10-2-2">10.2.2</a>, but remove the redundant link <code>fise:entity-reference</code>
</p>

<p>
<a href="./img/SIMMO-annot-image.ttl">./img/SIMMO-annot-image.ttl</a>
</p>

<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/fb086c&gt;</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span> <span style="color: #8b2252;">"John Smith"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span> <span style="color: #8b2252;">"2014-09-08T17:15:34.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"24"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/fb086c&gt;</span>.

<span style="color: #0000ff;">&lt;#char=17,21&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"17"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"21"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"SWAT"</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">hasPart</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/image.jpg&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/image.jpg&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">StillImage</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"image/jpeg"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/image.jpg&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasBody</span> <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-Concepts3_Or_More_People,</span> <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-SWAT</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2015-10-01T12:34:56"</span><span style="color: #008b8b;">^^xsd:dateTime</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-Concepts3_Or_More_People</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Concepts3_Or_More_People</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.3.</span>

<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-SWAT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.9.</span>

<span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;">SoftwareAgent</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"CERTH Image Annotator v1.0"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-concept:</span>Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Concepts: 3 or More People"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"SWAT"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">InlineProperty</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">right</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-10-3-1" class="outline-4">
<h4 id="sec-10-3-1"><span class="section-number-4">10.3.1</span> Annotated Image Diagram</h4>
<div class="outline-text-4" id="text-10-3-1">

<div class="figure">
<p><img src="./img/SIMMO-annot-image.png" alt="SIMMO-annot-image.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10-4" class="outline-3">
<h3 id="sec-10-4"><span class="section-number-3">10.4</span> Annotating Videos</h3>
<div class="outline-text-3" id="text-10-4">
<p>
CED extracts the 3..5 most confident Concepts/Events detected in a video, with confidence score. We represent this exactly the same as in the previous sec <a href="#sec-10-3">10.3</a>, just using the appropriate rdf:type (dctype:MovingImage) and dc:format ("video/mp4") for the video.
</p>

<p>
<a href="./img/SIMMO-annot-video.ttl">./img/SIMMO-annot-video.ttl</a>
</p>

<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/fb086c&gt;</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span> <span style="color: #8b2252;">"John Smith"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span> <span style="color: #8b2252;">"2014-09-08T17:15:34.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"24"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;&gt;</span>.

<span style="color: #0000ff;">&lt;#char=17,21&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"17"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"21"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"SWAT"</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">hasPart</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">MovingImage</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"video/mp4"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span>1234153426
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span>;
  <span style="color: #228b22;">oa:</span>hasBody
    <span style="color: #228b22;">ms-annot:</span>1234153426-Concepts3_Or_More_People,
    <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-SWAT</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2015-10-01T12:34:56"</span><span style="color: #008b8b;">^^xsd:dateTime</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span>1234153426-Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;">Concepts3_Or_More_People</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.3.</span>
<span style="color: #228b22;">ms-annot:</span>1234153426-SWAT
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.9.</span>

<span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;">SoftwareAgent</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"CERTH Image Annotator v1.0"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-concept:</span>Concepts3_Or_More_People
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-concept:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Concepts: 3 or More People"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"SWAT"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">InlineProperty</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">right</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-10-4-1" class="outline-4">
<h4 id="sec-10-4-1"><span class="section-number-4">10.4.1</span> Annotated Video Diagram</h4>
<div class="outline-text-4" id="text-10-4-1">

<div class="figure">
<p><img src="./img/SIMMO-annot-video.png" alt="SIMMO-annot-video.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-10-5" class="outline-3">
<h3 id="sec-10-5"><span class="section-number-3">10.5</span> Annotating Video Frames</h3>
<div class="outline-text-3" id="text-10-5">
<p>
To annotate a video frame, we use Web Annotation's <a href="https://www.w3.org/TR/annotation-model/#specific-resources">Specific Resources</a> 
and a <a href="https://www.w3.org/TR/annotation-model/#fragment-selector">Fragment Selector</a> that conforms to the <a href="https://www.w3.org/TR/media-frags/">Media Fragments</a> specification.
Assume the same video as in the previous section, 
and that frame(s) from second 30 to second 31 are annotated. 
This corresponds to a selector <code>#t=30,31</code>
(see <a href="https://www.w3.org/TR/media-frags/#naming-time">Temporal Dimension</a> for more details including NPT vs SMPTE vs real-world clock). 
We show only one annotated concept for simplicity.
</p>

<p>
<a href="./img/SIMMO-annot-frame.ttl">./img/SIMMO-annot-frame.ttl</a>
</p>

<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/fb086c&gt;</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span> <span style="color: #8b2252;">"John Smith"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span> <span style="color: #8b2252;">"2014-09-08T17:15:34.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"24"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #0000ff;">&lt;&gt;</span>.

<span style="color: #0000ff;">&lt;#char=17,21&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,24&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span> <span style="color: #8b2252;">"17"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span> <span style="color: #8b2252;">"21"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"SWAT"</span>;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span>.

<span style="color: #0000ff;">&lt;&gt;</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">hasPart</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">MovingImage</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"video/mp4"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span>1234153426
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-target</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasBody</span> <span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-SWAT</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2015-10-01T12:34:56"</span><span style="color: #008b8b;">^^xsd:dateTime</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span><span style="color: #008b8b;">1234153426-target</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SpecificResource</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasSource</span>  <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasSelector</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4#t=30,31&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4#t=30,31&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">oa:</span><span style="color: #008b8b;">FragmentSelector</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">rdf:</span><span style="color: #008b8b;">value</span> <span style="color: #8b2252;">"t=30,31"</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">conformsTo</span> <span style="color: #0000ff;">&lt;http://www.w3.org/TR/media-frags/&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-annot:</span>1234153426-SWAT
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">SemanticTag,</span> <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">TopicAnnotation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">related</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span>;
  <span style="color: #228b22;">fise:</span><span style="color: #008b8b;">confidence</span> <span style="color: #228b22;">0.9.</span>

<span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/imageAnnotator&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;">SoftwareAgent</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"CERTH Image Annotator v1.0"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">SWAT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"SWAT"</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">hasPart</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4#t=30,31&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">tagging</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/article&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://www.w3.org/TR/media-frags/&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">InlineProperty</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasSource</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4&gt;</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">dashed</span> <span style="color: #0000ff;">&lt;http://blog.hgtv.com/terror/2014/09/08/video.mp4#t=30,31&gt;</span><span style="color: #b22222;">.</span>
</pre>
</div>
</div>

<div id="outline-container-sec-10-5-1" class="outline-4">
<h4 id="sec-10-5-1"><span class="section-number-4">10.5.1</span> Annotated Frame Diagram</h4>
<div class="outline-text-4" id="text-10-5-1">

<div class="figure">
<p><img src="./img/SIMMO-annot-frame.png" alt="SIMMO-annot-frame.png" />
</p>
</div>

<p>
The dashed arrow <code>dct:hasPart</code> says that the frame (fragment) is part of the video. 
It is optional: it allows direct access to the annotated frames, but is redundant.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-11" class="outline-2">
<h2 id="sec-11"><span class="section-number-2">11</span> Content Translation</h2>
<div class="outline-text-2" id="text-11">
<p>
Scenario: we have a SIMMO in original language ES that is machine-translated to EN.
</p>
<ul class="org-ul">
<li>All textual elements are translated: title, description, body, subject &amp; keywords 
</li>
<li>However, video ASR text is not translated.
</li>
<li>Both original and translations are annotated with NIF (NLP and NER).
</li>
</ul>
<p>
We want to record all NIF information against original and translated separately, so there's no confusion.
If the article includes multimedia, we want to attach it only to the original, to avoid data duplication.
</p>

<p>
Solution: we need separate roots (foaf:Document), so we store the original and translation(s) in separate named graphs.
The translated content has link <code>bibo:translationOf</code> to the original
</p>
</div>

<div id="outline-container-sec-11-1" class="outline-3">
<h3 id="sec-11-1"><span class="section-number-3">11.1</span> Aside: Translation Properties</h3>
<div class="outline-text-3" id="text-11-1">
<p>
Before we settled on <code>bibo:translationOf</code>, we considered some other options
</p>

<p>
<a href="http://www.slideshare.net/m1ci/nif-tutorial">FREME NIF Tutorial</a>:
</p>
<ul class="org-ul">
<li>slide 16 uses <code>its:target</code> to point to target (translated) text of a <code>nif:String</code>, but we need to make further statements about the translated text
</li>
<li>slide 18 shows an idea how to represent translated text as an independent document, but uses a made-up property <code>its:translatedAs</code>
</li>
</ul>

<p>
<a href="http://www.w3.org/community/ontolex/wiki/Final_Model_Specification#Translation">The OntoLex vartrans</a> module suggests 5 ways to represent translation. But all of them put us firmly in OntoLex land:
</p>
<ul class="org-ul">
<li>the senses in source and target language share a reference to a shared concept
</li>
<li>class vartrans:Translation with properties vartrans:source and vartrans:target pointing the source and target sense
</li>
<li>property vartrans:translation that points from source to target sense
</li>
<li>property vartrans:translatableAs that points from source to target lexical entry
</li>
<li>class vartrans:TranslationSet that points to a number of vartrans:member vartrans:Translation instances
</li>
</ul>

<p>
We could try to use PROV, but there are no specific enough properties for "translation"
</p>
<ul class="org-ul">
<li><a href="http://www.w3.org/TR/prov-o/#hadPrimarySource">prov:hadPrimarySource</a> is the only property that mentions "translation"
</li>
<li>nif:wasConvertedFrom is a subprop of prov:wasDerivedFrom
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-11-2" class="outline-3">
<h3 id="sec-11-2"><span class="section-number-3">11.2</span> Representing Translation</h3>
<div class="outline-text-3" id="text-11-2">
<p>
We represent translation as follows. 
The statements of the original and translated SIMMO are stored in separate named graphs, which is not shown in the Turtle below
</p>

<p>
<a href="./img/translation.ttl">./img/translation.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/&gt;</span>.

<span style="color: #b22222;"># ES original: foaf:Document</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span> ;
    <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">countryCode</span>  <span style="color: #8b2252;">"ES"</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span>       <span style="color: #8b2252;">"Alberto Iglesias Fraga"</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span>          <span style="color: #8b2252;">"2016-07-28T23:45:07.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">description</span>   <span style="color: #8b2252;">"SONY ha iniciado negociaciones con Murata Manufacturing..."</span>;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">language</span>      <span style="color: #8b2252;">"es"</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">source</span>        <span style="color: #8b2252;">"cloud.ticbeat.com"</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">subject</span>       <span style="color: #8b2252;">"Econom&#237;a, Negocios y Finanzas"</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">title</span>         <span style="color: #8b2252;">"SONY se desprender&#225; de su negocio de bater&#237;as"</span> ;
    <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">type</span>          <span style="color: #8b2252;">"article"</span> ;
    <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">keywords</span>  <span style="color: #8b2252;">"Sony, bater&#237;as, Murata Manufacturing"</span>;
    <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span>       <span style="color: #0000ff;">&lt;http://feedproxy.google.com/...&gt;</span> .

<span style="color: #b22222;"># EN translation: foaf:Document </span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d-en</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">Document</span> ;
  <span style="color: #228b22;">bibo:</span><span style="color: #008b8b;">translationOf</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d</span>; <span style="color: #b22222;"># IMPORTANT!</span>
  <span style="color: #228b22;">dbp:</span><span style="color: #008b8b;">countryCode</span>   <span style="color: #8b2252;">"ES"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">creator</span>        <span style="color: #8b2252;">"Alberto Iglesias Fraga"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">date</span>           <span style="color: #8b2252;">"2016-07-28T23:45:07.000+02:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">description</span>    <span style="color: #8b2252;">"SONY has begun negotiations with Murata Manufacturing..."</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">language</span>       <span style="color: #8b2252;">"en"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">source</span>         <span style="color: #8b2252;">"cloud.ticbeat.com"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">subject</span>        <span style="color: #8b2252;">"Economy, Business &amp; Finance"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">title</span>          <span style="color: #8b2252;">"SONY is clear from its battery business"</span> ;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">type</span>           <span style="color: #8b2252;">"article"</span> ;
  <span style="color: #228b22;">schema:</span><span style="color: #008b8b;">keywords</span>   <span style="color: #8b2252;">"Sony, batteries, Murata Manufacturing"</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span>        <span style="color: #0000ff;">&lt;http://feedproxy.google.com/...&gt;</span> .

<span style="color: #b22222;"># ES original: nif:Context</span>
<span style="color: #0000ff;">&lt;156e0d#char=0,2131&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;"> ;</span>
    <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">fluency</span>       <span style="color: #8b2252;">"1.22"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
    <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">richness</span>      <span style="color: #8b2252;">"1.86"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
    <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">technicality</span>  <span style="color: #8b2252;">"2.78"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
    <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span>   <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
    <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span>     <span style="color: #8b2252;">"2131"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
    <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span>     <span style="color: #8b2252;">"SONY se desprender&#225; de su negocio de bater&#237;as..."</span> ;
    <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span>    <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d</span> .

<span style="color: #b22222;"># EN translation: nif:Context</span>
<span style="color: #0000ff;">&lt;156e0d-en#char=0,1800&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;"> ;</span>
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">fluency</span>       <span style="color: #8b2252;">"1.25"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ; <span style="color: #b22222;"># hopefully will be similar to original, but won't be identical</span>
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">richness</span>      <span style="color: #8b2252;">"1.81"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">technicality</span>  <span style="color: #8b2252;">"2.70"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span>   <span style="color: #8b2252;">"0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span>     <span style="color: #8b2252;">"1800"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ; <span style="color: #b22222;"># Assuming EN comes out shorter than ES</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span>     <span style="color: #8b2252;">"SONY is clear from its battery business..."</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span>    <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d-en</span> .

<span style="color: #b22222;"># ES original: some NLP</span>
<span style="color: #0000ff;">&lt;156e0d#char=1199,1224&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Phrase</span><span style="color: #b22222;"> ;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span>           <span style="color: #8b2252;">"bater&#237;a de iones de litio"</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span>         <span style="color: #8b2252;">"1199"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span>           <span style="color: #8b2252;">"1224"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span>   <span style="color: #0000ff;">&lt;156e0d#char=0,2131&gt;</span><span style="color: #b22222;"> ;</span>
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">taIdentConf</span>    <span style="color: #8b2252;">"1.0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">taIdentProv</span>    <span style="color: #0000ff;">&lt;http://babelfy.org/&gt;</span> ;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span>         <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">GenericConcept</span> ;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span>         <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s01289274n</span> .

<span style="color: #b22222;"># EN translation: some NLP</span>
<span style="color: #0000ff;">&lt;156e0d-en#char=1100,1119&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Phrase</span><span style="color: #b22222;"> ;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span>           <span style="color: #8b2252;">"lithium ion battery"</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginIndex</span>         <span style="color: #8b2252;">"1100"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endIndex</span>           <span style="color: #8b2252;">"1119"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">nonNegativeInteger</span> ;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span>   <span style="color: #0000ff;">&lt;156e0d-en#char=0,1800&gt;</span><span style="color: #b22222;"> ;</span>
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">taIdentConf</span>    <span style="color: #8b2252;">"1.0"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">double</span> ;
  <span style="color: #228b22;">nif-ann:</span><span style="color: #008b8b;">taIdentProv</span>    <span style="color: #0000ff;">&lt;http://babelfy.org/&gt;</span> ;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taClassRef</span>         <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">GenericConcept</span> ;
  <span style="color: #228b22;">its:</span><span style="color: #008b8b;">taIdentRef</span>         <span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s01289274n</span> .

<span style="color: #b22222;"># Babelnet labels: stored in the default graph</span>
<span style="color: #228b22;">bn:</span><span style="color: #008b8b;">s01289274n</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"LiIon"</span>@de, <span style="color: #8b2252;">"Li-ion cell"</span>@en, <span style="color: #8b2252;">"Batteries lithium-ion"</span>@fr, <span style="color: #8b2252;">"&#1051;&#1080;&#1090;&#1080;&#1077;&#1074;&#1086;-&#1081;&#1086;&#1085;&#1085;&#1072; &#1073;&#1072;&#1090;&#1077;&#1088;&#1080;&#1103;"</span>@bg .

<span style="color: #b22222;"># Multimedia is only present with the original-content</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d</span> <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">hasPart</span> 
  <span style="color: #0000ff;">&lt;http://cloud.ticbeat.com/2016/07/sony-baterias-explosion.mp4&gt;</span>,
  <span style="color: #0000ff;">&lt;http://cloud.ticbeat.com/2016/07/sony-bateria.jpg&gt;</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://cloud.ticbeat.com/2016/07/sony-baterias-explosion.mp4&gt;</span> 
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">MovingImage</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"video/mp4"</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://cloud.ticbeat.com/2016/07/sony-bateria.jpg&gt;</span> 
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dctype:</span><span style="color: #008b8b;">StillImage</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">format</span> <span style="color: #8b2252;">"image/jpeg"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">bibo:</span><span style="color: #008b8b;">translationOf</span>         <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">left</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">dct:</span><span style="color: #008b8b;">source</span>                 <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">sourceUrl</span>              <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span>       <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #0000ff;">&lt;http://babelfy.org/&gt;</span>      <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">GenericConcept</span>          <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d</span>          <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span> <span style="color: #8b2252;">"&lt;&lt;(S,green)Spanish&gt;&gt;"</span>.
<span style="color: #0000ff;">&lt;156e0d#char=1199,1224&gt;</span><span style="color: #b22222;">    </span><span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"&lt;&lt;(S,green)Spanish&gt;&gt;"</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;156e0d#char=0,2131&gt;</span><span style="color: #b22222;">       </span><span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"&lt;&lt;(S,green)Spanish&gt;&gt;"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">156e0d-en</span>       <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span> <span style="color: #8b2252;">"&lt;&lt;(E,red)English&gt;&gt;"</span>.
<span style="color: #0000ff;">&lt;156e0d-en#char=0,1800&gt;</span><span style="color: #b22222;">    </span><span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"&lt;&lt;(E,red)English&gt;&gt;"</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;156e0d-en#char=1100,1119&gt;</span><span style="color: #b22222;"> </span><span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span><span style="color: #b22222;"> </span><span style="color: #8b2252;">"&lt;&lt;(E,red)English&gt;&gt;"</span><span style="color: #b22222;">.</span>
</pre>
</div>
</div>

<div id="outline-container-sec-11-2-1" class="outline-4">
<h4 id="sec-11-2-1"><span class="section-number-4">11.2.1</span> Translation Diagram</h4>
<div class="outline-text-4" id="text-11-2-1">

<div class="figure">
<p><img src="./img/translation.png" alt="translation.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-11-2-2" class="outline-4">
<h4 id="sec-11-2-2"><span class="section-number-4">11.2.2</span> Content Alignment</h4>
<div class="outline-text-4" id="text-11-2-2">
<p>
The Content Alignment Pipeline (CAP) is a service that finds SIMMOs similar or contradictory to a source SIMMO.
It is not part of the main pipeline that produces SIMMO annotations, 
rather it is called periodically, searches globally in the SIMMO DB, and exploits SIMMO annotations to compute alignment.
</p>

<p>
We store CAP statements as <code>oa:Annotation</code> in their own graph <a href="http://data.multisensorproject.eu/CAP">http://data.multisensorproject.eu/CAP</a> (outside of any SIMMO graph).
We use custom motivations (<code>oa:motivatedBy</code>): <code>ms:linking-similar</code> vs <code>ms:linking-contradictory</code> to express similarity vs contradiction,
and a property <code>ms:score</code> to express the strength of the judgement:
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/CAP&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">prov:</span><span style="color: #008b8b;">SoftwareAgent</span>;
  <span style="color: #228b22;">foaf:</span><span style="color: #008b8b;">name</span> <span style="color: #8b2252;">"Content Alignment Pipeline v1.0"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">linking-similar</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">NamedIndividual,</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Motivation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivationScheme</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">broader</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">linking</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"linking-similar"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Motivation that represents a symmetric link between two *similar* articles"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">linking-contradictory</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">NamedIndividual,</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Motivation</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivationScheme</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">broader</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">linking</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"linking-contradictory"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Motivation that represents a symmetric link between two *contradictory* articles"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">score</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">range</span>  <span style="color: #228b22;">xsd:</span><span style="color: #008b8b;">decimal</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"score"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Strength of an Annotation, eg the link between two entities"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>.
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-11-3" class="outline-3">
<h3 id="sec-11-3"><span class="section-number-3">11.3</span> Content Alignment Representation</h3>
<div class="outline-text-3" id="text-11-3">
<p>
Assume there is a pair of similar SIMMOs, and another pair of contradictory SIMMOs.
We restructure it as follows, where <code>CAP/123</code> and <code>CAP/124</code> are sequential numbers or some other way to generate unique URLs.
Please note that the representation is completely symmetric regarding the two SIMMOs involved.
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/CAP/123&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasBody</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">e9c304,</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">611047</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">score</span> 1.645;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">linking-similar</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/CAP&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2016-01-11T12:00:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span> <span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/CAP/124&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">Annotation</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasBody</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">e9c304,</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">f5c719</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">score</span> 1.987;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">linking-contradictory</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedBy</span> <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/agent/CAP&gt;</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">annotatedAt</span> <span style="color: #8b2252;">"2016-01-12T12:00:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span> <span style="color: #228b22;">.</span>

<span style="color: #b22222;">#############</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasBody</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #b22222;">#oa:annotatedBy puml:arrow puml:up.</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-11-4" class="outline-3">
<h3 id="sec-11-4"><span class="section-number-3">11.4</span> Content Alignment Diagram</h3>
<div class="outline-text-3" id="text-11-4">

<div class="figure">
<p><img src="./img/CAP.png" alt="CAP.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-12" class="outline-2">
<h2 id="sec-12"><span class="section-number-2">12</span> Multisensor Social Data</h2>
<div class="outline-text-2" id="text-12">
<p>
SMAP is a Multisensor module that does network analysis over social networks.
It gets some tweets about a topic (based on keywords or hashtags), and then determines the importance of various posters on these topics.
We use the <a href="http://rdfs.org/sioc/spec/">SIOC</a> ontology to represent posters and topics, and then some custom properties:
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_page_rank</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Has page rank"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Centrality and importance of a poster on particular topic"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_reachability</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Has reachability"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Level of linking of a poster on particular topic"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_global_influence:</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Has global influence"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Global influence of a poster on particular topic. A combination of page rank and reachability"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>.
</pre>
</div>
</div>

<div id="outline-container-sec-12-1" class="outline-3">
<h3 id="sec-12-1"><span class="section-number-3">12.1</span> Topic Based on Single Keywords</h3>
<div class="outline-text-3" id="text-12-1">
<p>
Assume the following:
</p>
<ul class="org-ul">
<li>We crawled two sets of tweets based on two <b>keywords</b>: "cars" and "RDF"
</li>
<li>The first guy (<code>valexiev1</code>) has posted on both topics. He knows a bit about "cars" but a lot about "RDF"
</li>
<li>The second guy (<code>johnSmith</code>) has posted only on the topic "cars", and he knows a lot about it
</li>
</ul>

<p>
We represent it as follows:
</p>
<ul class="org-ul">
<li>We use a namespace <code>ms-soc</code> where we put Social Network data
</li>
<li>We represent topics as <code>sioc:Forum</code>, posters as <code>sioc:UserAccount</code>, and poster on a topic as <code>sioc:Role</code>
</li>
<li>We form node URLs from keywords and poster account names. If these include spaces or other bad chars, replace with "_"
</li>
<li>Keywords are strings, so we use dc:subject to express them
</li>
</ul>

<p>
<a href="./img/SMAP-example.ttl">./img/SMAP-example.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Forum</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_host</span> <span style="color: #228b22;">twitter:</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">subject</span> <span style="color: #8b2252;">"cars"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">RDF</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Forum</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_host</span> <span style="color: #228b22;">twitter:</span>;
  <span style="color: #228b22;">dc:</span><span style="color: #008b8b;">subject</span> <span style="color: #8b2252;">"RDF"</span>.

<span style="color: #b22222;"># The first guy has posted on both topics. He knows a bit about "cars" but a lot about "RDF"</span>
<span style="color: #228b22;">twitter:</span><span style="color: #008b8b;">valexiev1</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">UserAccount</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_function</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars_valexiev1,</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">RDF_valexiev1</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars_valexiev1</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_scope</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_page_rank</span> 0.75;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_reachability</span> 0.70;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_global_influence</span> <span style="color: #228b22;">0.72.</span>

<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">RDF_valexiev1</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_scope</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">RDF</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_page_rank</span> 7500.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_reachability</span> 7000.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_global_influence</span> 7200.0.

<span style="color: #b22222;"># The second guy has posted only on the "cars" topic. He knows a lot about "cars"</span>
<span style="color: #228b22;">twitter:</span><span style="color: #008b8b;">johnSmith</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">UserAccount</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_function</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars_johnSmith</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars_johnSmith</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_scope</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">cars</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_page_rank</span> 8.5;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_reachability</span> 8.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_global_influence</span> 8.2.
</pre>
</div>
</div>

<div id="outline-container-sec-12-1-1" class="outline-4">
<h4 id="sec-12-1-1"><span class="section-number-4">12.1.1</span> Single Keywords Diagram</h4>
<div class="outline-text-4" id="text-12-1-1">

<div class="figure">
<p><img src="./img/SMAP-example.png" alt="SMAP-example.png" />
</p>
</div>

<p>
The graph allows a journalist to compare the importance of the same poster across keywords.
</p>
</div>
</div>
</div>

<div id="outline-container-sec-12-2" class="outline-3">
<h3 id="sec-12-2"><span class="section-number-3">12.2</span> Topic Based on Multiple Hashtags</h3>
<div class="outline-text-3" id="text-12-2">
<p>
Assume the following:
</p>
<ul class="org-ul">
<li>We crawled one set of tweets based on multiple <b>hashtags</b>. We assume no special chars are present in the hashtags.
</li>
<li>We don't have the user names, only user IDs.
Note: the user name (eg <b>@UNFCCC</b>) can be extracted from the ID (eg <a href="https://twitter.com/intent/user?user_id=17463923">user_id=17463923</a>)
</li>
</ul>

<p>
We use the following representation
</p>
<ul class="org-ul">
<li>We represent topics as <code>sioc:Forum</code>, posters as <code>sioc:UserAccount</code>, and poster on a topic as <code>sioc:Role</code> (same as before)
</li>
<li>We make the topic URLs by sorting and concatenating tags, separated with "." (a bit too long but works)
</li>
<li>We make poster on topic URLs by concatenating the tags and account user ID, separated with "_"
</li>
<li>Hashtags are resources (separately addressable), so we use dct:subject to express them
</li>
<li>We put each hashtag in a separate dct:subject. This would allow someone to analyze topic intersection
</li>
<li>For now we use just one named graph, with URL <code>ms-soc:</code>
</li>
</ul>

<p>
<a href="./img/SMAP-example2.ttl">./img/SMAP-example2.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># topic URL made from sorted concatenated tags</span>
<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span>.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Forum</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_host</span> <span style="color: #228b22;">twitter:</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">subject</span> <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;">civilengineering,</span> <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;">dishwasher,</span> 
    <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;">energy_crisis,</span> <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;">policy_energy,</span> <span style="color: #228b22;">twitter_tag:</span>renewable,
    <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;">foodmanufacturing,</span> <span style="color: #228b22;">twitter_tag:</span><span style="color: #008b8b;">homeappliances</span>.

<span style="color: #b22222;"># poster on topic URL made from topic concatenated with user id</span>
<span style="color: #228b22;">twitter_user:</span><span style="color: #008b8b;">17463923</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">UserAccount</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_function</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span><span style="color: #228b22;">.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances_17463923.</span>

<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span>.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances_17463923 <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_scope</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span>.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_pagerank</span> 0.0206942;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_reachability</span> 386.05;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_overall_influence</span> <span style="color: #228b22;">0.143948.</span>

<span style="color: #228b22;">twitter_user:</span><span style="color: #008b8b;">243236419</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">UserAccount</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_function</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span><span style="color: #228b22;">.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances_243236419.</span>

<span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span>.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances_243236419 <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Role</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_scope</span> <span style="color: #228b22;">ms-soc:</span><span style="color: #008b8b;">civilengineering</span>.dishwasher.energy_crisis.energy_policy.renewable.foodmanufacturing.homeappliances;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_pagerank</span> 0.020222;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_reachability</span> 434.15;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">has_overall_influence</span> <span style="color: #228b22;">0.143038.</span>

<span style="color: #b22222;">##################</span>
<span style="color: #228b22;">dct:</span><span style="color: #008b8b;">subject</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">InlineProperty</span>.
</pre>
</div>
<p>
As an enhancement, we could split into more coherent hashtag groups, and do separate analyses. Eg:
</p>
<ul class="org-ul">
<li>energy_crisis.energy_policy.renewable vs
</li>
<li>dishwasher.homeappliances
</li>
</ul>
</div>

<div id="outline-container-sec-12-2-1" class="outline-4">
<h4 id="sec-12-2-1"><span class="section-number-4">12.2.1</span> Multiple Hashtags Diagram</h4>
<div class="outline-text-4" id="text-12-2-1">

<div class="figure">
<p><img src="./img/SMAP-example2.png" alt="SMAP-example2.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-12-3" class="outline-3">
<h3 id="sec-12-3"><span class="section-number-3">12.3</span> Tweets Related to Article</h3>
<div class="outline-text-3" id="text-12-3">
<p>
Assume we can collect tweets related to a crawled article (SIMMO):
</p>
<ul class="org-ul">
<li>"Energiewende" is a major topic of SIMMO <code>ms-content:939468</code>
</li>
<li>The tweet <a href="http://twitter.com/MSR_Future/status/605786079153627136">http://twitter.com/MSR_Future/status/605786079153627136</a> talks about <b>#energiewende</b>
</li>
</ul>
<p>
We can express the tweet as sioc:Post. We'll express just basic data:
</p>
<ul class="org-ul">
<li>sioc:content: tweet text
</li>
<li>sioc:has_creator: <a href="http://twitter.com/MSR_Future">http://twitter.com/MSR_Future</a> (or if we don't have access to the user name, we can use the user id just like above).
</li>
<li>dct:date: date posted
</li>
</ul>

<p>
<a href="./img/SMAP-tweet.ttl">./img/SMAP-tweet.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;http://twitter.com/MSR_Future/status/605786079153627136&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">Post</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">has_creator</span> <span style="color: #0000ff;">&lt;http://twitter.com/MSR_Future&gt;</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">content</span> <span style="color: #8b2252;">"""@UNFCCC @EnergiewendeGER</span>
<span style="color: #8b2252;">   That's great, just </span><span style="color: #a020f0;">a</span><span style="color: #8b2252;"> shame it does not</span>
<span style="color: #8b2252;">   translate into lower CO2. #Energiewende"""</span>;
  <span style="color: #228b22;">dct:</span><span style="color: #008b8b;">date</span> <span style="color: #8b2252;">"2015-06-02T20:20:00"</span><span style="color: #008b8b;">^^xsd:dateTime</span>;
  <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">about</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">939468</span><span style="color: #228b22;">.</span>

<span style="color: #0000ff;">&lt;http://twitter.com/MSR_Future&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">sioc:</span><span style="color: #008b8b;">UserAccount</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #0000ff;">&lt;http://twitter.com/MSR_Future&gt;</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span>.
</pre>
</div>

<p>
Possible extensions:
</p>
<ul class="org-ul">
<li>Extract the hashtags and mentions from the tweet
</li>
<li>If we start sourcing <code>Posts</code> from other places (eg Facebook), we should link the <code>Post</code>
  and <code>UserAccount</code> to <b>twitter:</b> as a <code>sioc:Forum</code> or <code>sioc:Site</code>.
</li>
<li>If we want to express more diverse relations than a general <code>sioc:about</code>, we can use OA
(see sec <i>*Open Annotation</i>) and <code>oa:motivatedBy</code>. The SIMMO will be the <b>target</b> of annotation,
and the tweet will be the <b>body</b>.
</li>
</ul>
</div>

<div id="outline-container-sec-12-3-1" class="outline-4">
<h4 id="sec-12-3-1"><span class="section-number-4">12.3.1</span> Tweets Diagram</h4>
<div class="outline-text-4" id="text-12-3-1">

<div class="figure">
<p><img src="./img/SMAP-tweet.png" alt="SMAP-tweet.png" />
</p>
</div>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-13" class="outline-2">
<h2 id="sec-13"><span class="section-number-2">13</span> Sentiment Analysis</h2>
<div class="outline-text-2" id="text-13">
<p>
MS uses MARL for representing sentiments, and a few more extension properties:
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;">negativePolarityValue</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Most negative polarity value"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"A sentence may include both negative and positive polarity words: this records the most negative polarity"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">positivePolarityValue</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Most positive polarity value"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"A sentence may include both negative and positive polarity words: this records the most positive polarity"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">sentimentalityValue</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Sentimentality value"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"""How strong is the sentiment.</span>
<span style="color: #8b2252;">Sum of the absolute values of the most positive and most negative polarity of an opinion (i.e. the difference between them)"""</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>.
</pre>
</div>
</div>

<div id="outline-container-sec-13-1" class="outline-3">
<h3 id="sec-13-1"><span class="section-number-3">13.1</span> Sentiment of SIMMO and Sentence</h3>
<div class="outline-text-3" id="text-13-1">
<p>
The sentiment of the whole SIMMO is represented as follows.
</p>

<p>
<a href="./img/MS-sentiment.ttl">./img/MS-sentiment.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/9e9c304&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,2000&gt;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">opinion</span> <span style="color: #0000ff;">&lt;#char=0,2000-sentiment&gt;</span><span style="color: #b22222;">.</span>
<span style="color: #0000ff;">&lt;#char=100,200-sentiment&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span>    -5.0; <span style="color: #b22222;"># sentiment </span><span style="color: #228b22;">range:</span><span style="color: #b22222;"> minimum</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span>     5.0; <span style="color: #b22222;"># sentiment </span><span style="color: #228b22;">range:</span><span style="color: #b22222;"> maximum</span>
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">negativePolarityValue</span> -3.5; <span style="color: #b22222;"># most negative sentiment</span>
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">positivePolarityValue</span>  2.0; <span style="color: #b22222;"># most positive sentiment</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">polarityValue</span>       -1.5; <span style="color: #b22222;"># sum of the two polar opinions (what's the average sentiment)</span>
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">sentimentalityValue</span>    5.5. <span style="color: #b22222;"># difference of the two polar opinions (how strong is the sentiment)</span>
</pre>
</div>

<p>
The sentiment of a sentence is structured exactly as above. 
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=100,200&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Sentence</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,2000&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">opinion</span> <span style="color: #0000ff;">&lt;#char=100,200-sentiment&gt;</span><span style="color: #b22222;">.</span>

<span style="color: #0000ff;">&lt;#char=100,200-sentiment&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span>    -5.0;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span>     5.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">negativePolarityValue</span> -3.5;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">positivePolarityValue</span>  2.0;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">polarityValue</span>       -1.5;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">sentimentalityValue</span>    5.5.
</pre>
</div>

<p>
A sentence without any sentiment-bearing words still carries the range (<code>minPolarityValue</code> and <code>marl:maxPolarityValue</code>),
and a neutral <code>sentimentalityValue</code>.
<code>negativePolarityValue</code>, <code>ms:positivePolarityValue</code> and <code>marl:polarityValue</code> are omitted:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;#char=200,300&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #0000ff;">&lt;#char=200,300-sentiment&gt;</span><span style="color: #b22222;">.</span>

<span style="color: #0000ff;">&lt;#char=200,300-sentiment&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span>    -5.0;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span>     5.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">sentimentalityValue</span>    0.0.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-13-2" class="outline-3">
<h3 id="sec-13-2"><span class="section-number-3">13.2</span> Sentiment About Named Entity</h3>
<div class="outline-text-3" id="text-13-2">
<p>
We can represent the sentiment about a NE as follows
</p>

<p>
<a href="./img/MS-sentiment-NE.ttl">./img/MS-sentiment-NE.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/9e9c304&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,50&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"Consumers are very unhappy with the new Porsche"</span>.

<span style="color: #0000ff;">&lt;#char=43,50&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,50&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginOffset</span> 43;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endOffset</span> 50;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"Porsche"</span>;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">taIdentRef</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Porsche</span>.

<span style="color: #0000ff;">&lt;#sentiment=dbr_Porsche&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">marl:</span><span style="color: #008b8b;">Opinion</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">extractedFrom</span> <span style="color: #0000ff;">&lt;#char=0,50&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">describesObject</span> <span style="color: #228b22;">dbr:</span><span style="color: #008b8b;">Porsche</span>;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">minPolarityValue</span> -5;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">maxPolarityValue</span> 5;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">negativePolarityValue</span> -5;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">positivePolarityValue</span> 0;
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">polarityValue</span> -5;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">sentimentalityValue</span> -5.

<span style="color: #b22222;"># If we can pin-point the sentiment-bearing words (in this case "very unhappy"):</span>
<span style="color: #0000ff;">&lt;#char=29,38&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Word</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">referenceContext</span> <span style="color: #0000ff;">&lt;#char=0,50&gt;</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">beginOffset</span> 29;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">endOffset</span> 38;
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">anchorOf</span> <span style="color: #8b2252;">"very unhappy"</span>.

<span style="color: #0000ff;">&lt;#sentiment=dbr_Porsche&gt;</span><span style="color: #b22222;"> </span>
  <span style="color: #228b22;">marl:</span><span style="color: #008b8b;">opinionText</span> <span style="color: #0000ff;">&lt;#char=29,38&gt;</span><span style="color: #b22222;">.</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-14" class="outline-2">
<h2 id="sec-14"><span class="section-number-2">14</span> Text Characteristics</h2>
<div class="outline-text-2" id="text-14">
<p>
MS has statistical algorithms that can compute a few general characteristics of the text:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;">fluency</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Text fluency"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"""How fluent is the text.</span>
<span style="color: #8b2252;">The text should build from sentence to sentence to </span><span style="color: #a020f0;">a</span><span style="color: #8b2252;"> coherent body of information about </span><span style="color: #a020f0;">a</span><span style="color: #8b2252;"> topic. </span>
<span style="color: #8b2252;">Consecutive sentences should be meaningfully connected. Paragraphs should be written in </span><span style="color: #a020f0;">a</span><span style="color: #8b2252;"> logical sequence. </span>
<span style="color: #8b2252;">The best way to achieve fluency is to have at least one object or subject repeatedly mentioned in consecutive units of text. """</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Range: 1.0 ... 5.0"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">richness</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Text richness"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"""How rich is the text. </span>
<span style="color: #8b2252;">Is the writing style and vocabulary used rich and interesting, as opposed to plain and straightforward?"""</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Range: 1.0 ... 5.0"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">technicality</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">owl:</span><span style="color: #008b8b;">DatatypeProperty</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">domain</span> <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Text technicality"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"""How technical is the text. </span>
<span style="color: #8b2252;">Are the topic and used language technical? </span>
<span style="color: #8b2252;">Does it require effort and previous knowledge to understand the text?"""</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">comment</span> <span style="color: #8b2252;">"Range: 1.0 ... 5.0"</span>@en;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">isDefinedBy</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;"> </span>.
</pre>
</div>

<p>
The representation for a an example SIMMO is shown below
This particular text is fluent, but is neither rich nor technical, so we set values 5, 1, 1 respectively.
</p>

<p>
<a href="./img/MS-text-characteristics.ttl">./img/MS-text-characteristics.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle">@base <span style="color: #0000ff;">&lt;http://data.multisensorproject.eu/content/9e9c304&gt;</span>.

<span style="color: #0000ff;">&lt;#char=0,2000&gt;</span><span style="color: #b22222;"> </span><span style="color: #a020f0;">a</span><span style="color: #b22222;"> </span><span style="color: #228b22;">nif:</span><span style="color: #008b8b;">Context</span><span style="color: #b22222;">;</span>
  <span style="color: #228b22;">nif:</span><span style="color: #008b8b;">isString</span> <span style="color: #8b2252;">"This is the whole text of the SIMMO.\n It should continue for 2000 chars but I'll stop here"</span>@en;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">fluency</span>      5.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">richness</span>     1.0;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">technicality</span> 1.0.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-15" class="outline-2">
<h2 id="sec-15"><span class="section-number-2">15</span> SIMMO Quality</h2>
<div class="outline-text-2" id="text-15">
<p>
Some of the SIMMOs have manual quality judgements. 
We use the W3C <a href="https://www.w3.org/TR/vocab-dqv/">Data Quality Vocabulary</a> (<code>dqv:QualityAnnotation</code>)
and the <a href="https://www.w3.org/TR/vocab-dqv/#DimensionsofZaveri">Linked Data Quality Dimensions</a> <code>ldqd:</code> by Zaveri to represent this.
</p>

<p>
First we define some MS nominal quality values:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms:</span><span style="color: #008b8b;">Accuracy</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">ConceptScheme</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"Accuracy values"</span><span style="color: #228b22;">@en.</span>
<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy-low</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">Accuracy</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Low accuracy"</span><span style="color: #228b22;">@en.</span>
<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy-medium</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">Accuracy</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Medium accuracy"</span><span style="color: #228b22;">@en.</span>
<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy-high</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">Accuracy</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"High accuracy"</span><span style="color: #228b22;">@en.</span>
<span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy-curated</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">Accuracy</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Manually curated"</span>@en;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">note</span> <span style="color: #8b2252;">"Highest accuracy"</span>@en.
</pre>
</div>

<p>
A SIMMO with quality rating is represented like this:
</p>

<p>
<a href="./img/quality.ttl">./img/quality.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f35</span> <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">hasQualityAnnotation</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f35-quality</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f35-quality</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">QualityAnnotation</span>;
  <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">inDimension</span> <span style="color: #228b22;">ldqd:</span><span style="color: #008b8b;">semanticAccuracy</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">motivatedBy</span> <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">qualityAssessment</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f35</span>;
  <span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasBody</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy-curated</span>.
</pre>
</div>

<p>
Note: initially we tried to use dqv:QualityMeasurement but it's for quantitative not qualitative (nominal) values:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f36</span> <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">hasQualityMeasurement</span> <span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f36-quality</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f36-quality</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">QualityMeasurement</span> ;
   <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">isMeasurementOf</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy</span>; <span style="color: #228b22;">dqv:</span><span style="color: #008b8b;">value</span> <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">accuracy-curated</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">####################</span>
<span style="color: #228b22;">oa:</span><span style="color: #008b8b;">hasTarget</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-content:</span><span style="color: #008b8b;">b3f36-quality</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span> <span style="color: #8b2252;">"&lt;&lt;(W,red)Wrong&gt;&gt;"</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-15-1" class="outline-3">
<h3 id="sec-15-1"><span class="section-number-3">15.1</span> SIMMO Quality Diagram</h3>
<div class="outline-text-3" id="text-15-1">

<div class="figure">
<p><img src="./img/quality.png" alt="quality.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-16" class="outline-2">
<h2 id="sec-16"><span class="section-number-2">16</span> Statistical Data for Decision Support</h2>
<div class="outline-text-2" id="text-16">
<p>
MS Use Case 3 is about decision support for international export. 
It employs various statistical data, including:
</p>
<ul class="org-ul">
<li>EuroStat and WorldBank statistics on demography and consumer behavior
</li>
<li>UN ComTrade statistics on inter-country trade
</li>
<li>Google info on distances between country capitals
</li>
</ul>
<p>
This data is used to rank potential export countries.
The full set of indicators is described in <a href="https://docs.google.com/document/d/1gW4R4VMI34eMMkknTXIbfDTzfSVQ4dn_d5doW5MjxZk/edit#heading=h.rs1e5482rcvj">MULTISENSOR Export trading Decison Support System specification</a>.
</p>

<p>
We use the W3C CUBE ontology to describe all of these.
</p>
</div>
<div id="outline-container-sec-16-1" class="outline-3">
<h3 id="sec-16-1"><span class="section-number-3">16.1</span> EuroStat Statistics</h3>
<div class="outline-text-3" id="text-16-1">
<p>
We obtained EuroStat data from <a href="http://eurostat.linked-statistics.org/">http://eurostat.linked-statistics.org/</a>.
</p>

<p>
Eg below is the representation of a data point about indicator <b>teibs10</b> "Economic Sentiment" for Cyprus for Oct 2014.
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;http://eurostat.linked-statistics.org/data/teibs010#M,CY,2014M10&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span> ;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">eudata:</span><span style="color: #008b8b;">teibs010</span> ;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">freq</span> <span style="color: #228b22;">sdmx-code:</span><span style="color: #008b8b;">freq-M</span> ;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">timePeriod</span> <span style="color: #8b2252;">"2014-10-01"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">date</span> ;
  <span style="color: #228b22;">property:</span><span style="color: #008b8b;">geo</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">CY</span> ;
  <span style="color: #228b22;">sdmx-measure:</span><span style="color: #008b8b;">obsValue</span> 98.8 ;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">normalized</span> 0.45 .
</pre>
</div>
<p>
<code>ms:normalized</code> represents a normalized value from 0 to 1, taking into account the maximum value for that indicator.
It is used to make different indicators comparable when displayed on a single chart.
</p>
</div>
</div>

<div id="outline-container-sec-16-2" class="outline-3">
<h3 id="sec-16-2"><span class="section-number-3">16.2</span> WorldBank Statistics</h3>
<div class="outline-text-3" id="text-16-2">
<p>
We obtained WorldBank data from <a href="http://worldbank.270a.info">http://worldbank.270a.info</a>.
</p>

<p>
Eg below is the representation of a data point about indicator <a href="http://worldbank.270a.info/classification/indicator/IC.BUS.EASE.XQ.html">IC.BUS.EASE.XQ</a> "Ease of doing business".
It ranks economies from 1 to 189, with first place being the best. 
A low numerical rank means that the regulatory environment is conducive to business operation.
The value below means that Spain was in 44th place for 2012.
</p>

<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #0000ff;">&lt;http://worldbank.270a.info/dataset/world-bank-indicators/IC.BUS.EASE.XQ/ES/2012&gt;</span>
  <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span> ;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #0000ff;">&lt;http://worldbank.270a.info/dataset/IC.BUS.EASE.XQ&gt;</span> ;
  <span style="color: #228b22;">property:</span><span style="color: #008b8b;">indicator</span> <span style="color: #228b22;">indicator:</span><span style="color: #008b8b;">IC</span>.BUS.EASE.XQ .
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">refArea</span> <span style="color: #228b22;">country:</span><span style="color: #008b8b;">ES</span> ;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">refPeriod</span> <span style="color: #0000ff;">&lt;http://reference.data.gov.uk/id/year/2012&gt;</span> ;
  <span style="color: #228b22;">property:</span><span style="color: #008b8b;">decimal</span> 0.0 ;
  <span style="color: #228b22;">sdmx-measure:</span><span style="color: #008b8b;">obsValue</span> 44.0 ;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">normalized</span> 0.233 .
</pre>
</div>
<p>
Compared to EuroStat, WorldBank uses:
</p>
<ul class="org-ul">
<li>Different property names for geographic area and time period
</li>
<li>Different URLs for geographic areas
</li>
<li>URLs instead of XSD dates/years for time periods (as defined by data.gov.uk), which necessitates extracting the value from the URL
</li>
</ul>
<p>
These differences are accommodated easily with appropriate queries.
</p>
</div>
</div>

<div id="outline-container-sec-16-3" class="outline-3">
<h3 id="sec-16-3"><span class="section-number-3">16.3</span> ComTrade Statistics</h3>
<div class="outline-text-3" id="text-16-3">
<p>
We extracted ComTrade data as numerous CSV from <a href="http://comtrade.un.org/data/">http://comtrade.un.org/data/</a> 
(that API imposes restrictions on the number of records that can be fetched at one time).
</p>

<p>
We obtain commodity codes from the ComTrade data API and convert them to skos:Concepts using the following pattern:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-comtr-commod:</span><span style="color: #008b8b;"> a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">ConceptScheme</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"ComTrade HS Commodity Codes at level 1"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-comtr-commod:</span><span style="color: #008b8b;">2</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-comtr-commod:</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Meat and edible meat offal"</span>.
</pre>
</div>

<p>
We describe relevant trade indicators as skos:Concepts:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;"> a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">ConceptScheme</span>;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"UN ComTrade indicators: import, export, total, balance"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">IMP</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">;</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Import"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">EXP</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">;</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Export"</span>.
</pre>
</div>

<p>
We model statistical data similar to EuroStat.
Eg the observations below describe Import/Export volume between Austria and Belgium for 2012 for commodity code 2 "Meat and edible meat offal", in Kilograms and USD:
</p>

<p>
<a href="./img/stat-comtrade.ttl">./img/stat-comtrade.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #b22222;"># Import</span>
<span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;">2012-IMP-AU-BE-2-USD</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span>;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">timePeriod</span> <span style="color: #8b2252;">"2012"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">gYear</span>;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">freq</span> <span style="color: #228b22;">sdmx-code:</span><span style="color: #008b8b;">freq-A</span>;
  <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;">indic</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">IMP</span>;
  <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;">commod</span> <span style="color: #228b22;">ms-comtr-commod:</span><span style="color: #008b8b;">2</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">geo</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">AT</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">partner</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">BE</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">unit</span> <span style="color: #228b22;">unit:</span><span style="color: #008b8b;">USD</span>;
  <span style="color: #228b22;">sdmx-measure:</span><span style="color: #008b8b;">obsValue</span> 123.

<span style="color: #b22222;"># Export</span>
<span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;">2012-EXP-AU-BE-2-USD</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span>;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">timePeriod</span> <span style="color: #8b2252;">"2012"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">gYear</span>;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">freq</span> <span style="color: #228b22;">sdmx-code:</span><span style="color: #008b8b;">freq-A</span>;
  <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;">indic</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">EXP</span>;
  <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;">commod</span> <span style="color: #228b22;">ms-comtr-commod:</span><span style="color: #008b8b;">2</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">geo</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">AT</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">partner</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">BE</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">unit</span> <span style="color: #228b22;">unit:</span><span style="color: #008b8b;">USD</span>;
  <span style="color: #228b22;">sdmx-measure:</span><span style="color: #008b8b;">obsValue</span> 456.

<span style="color: #b22222;"># If there is a value for Kilograms: Import</span>
<span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;">2012-IMP-AU-BE-2-KG</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span>;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;"> </span>;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">timePeriod</span> <span style="color: #8b2252;">"2012"</span><span style="color: #228b22;">^^xsd:</span><span style="color: #008b8b;">gYear</span>;
  <span style="color: #228b22;">sdmx-dimension:</span><span style="color: #008b8b;">freq</span> <span style="color: #228b22;">sdmx-code:</span><span style="color: #008b8b;">freq-A</span>;
  <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;">indic</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">IMP</span>;
  <span style="color: #228b22;">ms-comtr:</span><span style="color: #008b8b;">commod</span> <span style="color: #228b22;">ms-comtr-commod:</span><span style="color: #008b8b;">2</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">geo</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">AT</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">partner</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">BE</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">unit</span> <span style="color: #228b22;">unit:</span><span style="color: #008b8b;">KG</span>;
  <span style="color: #228b22;">sdmx-measure:</span><span style="color: #008b8b;">obsValue</span> <span style="color: #228b22;">12.3.</span>

<span style="color: #b22222;">#########################</span>
<span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;">2012-IMP-AU-BE-2-USD</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span> <span style="color: #8b2252;">"Import USD"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;">2012-EXP-AU-BE-2-USD</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span> <span style="color: #8b2252;">"Export USD"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-comtr-dat:</span><span style="color: #008b8b;">2012-IMP-AU-BE-2-KG</span>  <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">stereotype</span> <span style="color: #8b2252;">"Import KG"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">sdmx-code:</span><span style="color: #008b8b;">freq-A</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">AT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">BE</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">unit:</span><span style="color: #008b8b;">KG</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">unit:</span><span style="color: #008b8b;">USD</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">Inline</span>.
</pre>
</div>
</div>

<div id="outline-container-sec-16-3-1" class="outline-4">
<h4 id="sec-16-3-1"><span class="section-number-4">16.3.1</span> ComTrade Diagram</h4>
<div class="outline-text-4" id="text-16-3-1">

<div class="figure">
<p><img src="./img/stat-comtrade.png" alt="stat-comtrade.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-sec-16-3-2" class="outline-4">
<h4 id="sec-16-3-2"><span class="section-number-4">16.3.2</span> ComTrade Derived Indicators</h4>
<div class="outline-text-4" id="text-16-3-2">
<p>
We define two derived indicators:
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">TOT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">;</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Total"</span>;  
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">scopeNote</span> <span style="color: #8b2252;">"Total trade volume = Export + Import"</span><span style="color: #228b22;">.</span>
<span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">BAL</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">Concept</span>; <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">inScheme</span> <span style="color: #228b22;">ms-comtr-indic:</span><span style="color: #008b8b;">;</span> <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">prefLabel</span> <span style="color: #8b2252;">"Balance"</span>;
  <span style="color: #228b22;">skos:</span><span style="color: #008b8b;">scopeNote</span> <span style="color: #8b2252;">"Balance of trade   = Export - Import"</span>.
</pre>
</div>

<p>
We calculate them from source ComTrade indicators using simple SPARQL Update queries like this:
</p>
<div class="org-src-container">

<pre class="src src-sparql"><span style="color: #a020f0;">insert</span> {
  <span style="color: #a0522d;">?total</span> a qb:Observation;
    qb:dataSet ms-comtr-dat: ;
    sdmx-dimension:timePeriod <span style="color: #a0522d;">?time</span>;
    sdmx-dimension:freq <span style="color: #a0522d;">?freq</span>;
    ms-comtr:indic ms-comtr-indic:TOT;
    ms-comtr:commod <span style="color: #a0522d;">?commod</span>;
    prop:geo <span style="color: #a0522d;">?geo</span>;
    prop:partner <span style="color: #a0522d;">?partner</span>;
    prop:unit <span style="color: #a0522d;">?unit</span>;
    sdmx-measure:obsValue <span style="color: #a0522d;">?tot</span>.
  <span style="color: #a0522d;">?balance</span> a qb:Observation;
    qb:dataSet ms-comtr-dat: ;
    sdmx-dimension:timePeriod <span style="color: #a0522d;">?time</span>;
    sdmx-dimension:freq <span style="color: #a0522d;">?freq</span>;
    ms-comtr:indic ms-comtr-indic:BAL;
    ms-comtr:commod <span style="color: #a0522d;">?commod</span>;
    prop:geo <span style="color: #a0522d;">?geo</span>;
    prop:partner <span style="color: #a0522d;">?partner</span>;
    prop:unit <span style="color: #a0522d;">?unit</span>;
    sdmx-measure:obsValue <span style="color: #a0522d;">?bal</span>
} <span style="color: #a020f0;">where</span> {
  <span style="color: #a0522d;">?export</span> a qb:Observation;
    qb:dataSet ms-comtr-dat: ;
    sdmx-dimension:timePeriod <span style="color: #a0522d;">?time</span>;
    sdmx-dimension:freq <span style="color: #a0522d;">?freq</span>;
    ms-comtr:indic ms-comtr-indic:EXP;
    ms-comtr:commod <span style="color: #a0522d;">?commod</span>;
    prop:geo <span style="color: #a0522d;">?geo</span>;
    prop:partner <span style="color: #a0522d;">?partner</span>;
    prop:unit <span style="color: #a0522d;">?unit</span>;
    sdmx-measure:obsValue <span style="color: #a0522d;">?exp</span>.
  <span style="color: #a0522d;">?import</span> a qb:Observation;
    qb:dataSet ms-comtr-dat: ;
    sdmx-dimension:timePeriod <span style="color: #a0522d;">?time</span>;
    sdmx-dimension:freq <span style="color: #a0522d;">?freq</span>;
    ms-comtr:indic ms-comtr-indic:IMP;
    ms-comtr:commod <span style="color: #a0522d;">?commod</span>;
    prop:geo <span style="color: #a0522d;">?geo</span>;
    prop:partner <span style="color: #a0522d;">?partner</span>;
    prop:unit <span style="color: #a0522d;">?unit</span>;
    sdmx-measure:obsValue <span style="color: #a0522d;">?imp</span>.
  <span style="color: #a020f0;">bind</span> (replace(<span style="color: #a0522d;">?export</span>,<span style="color: #8b2252;">"-EXP-"</span>,"-TOT-") <span style="color: #a020f0;">as</span> <span style="color: #a0522d;">?total</span>)
  <span style="color: #a020f0;">bind</span> (replace(<span style="color: #a0522d;">?export</span>,<span style="color: #8b2252;">"-EXP-"</span>,"-BAL-") <span style="color: #a020f0;">as</span> <span style="color: #a0522d;">?balance</span>)
  <span style="color: #a020f0;">bind</span> (<span style="color: #a0522d;">?exp</span> + <span style="color: #a0522d;">?imp</span> <span style="color: #a020f0;">as</span> <span style="color: #a0522d;">?tot</span>).
  <span style="color: #a020f0;">bind</span> (<span style="color: #a0522d;">?exp</span> - <span style="color: #a0522d;">?imp</span> <span style="color: #a020f0;">as</span> <span style="color: #a0522d;">?bal</span>).
}
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-16-4" class="outline-3">
<h3 id="sec-16-4"><span class="section-number-3">16.4</span> Distance Data</h3>
<div class="outline-text-3" id="text-16-4">
<p>
We obtained distance and travel time data from the Google Maps API, then converted it according to the model below.
Eg the first record shows that the distance by road from Spain to Austria (in fact between the capitals: <a href="https://www.google.com/maps/dir/madrid/vienna/@44.2360789,1.8589184,6z/data=!3m1!4b1!4m14!4m13!1m5!1m1!1s0xd422997800a3c81:0xc436dec1618c2269!2m2!1d-3.7037902!2d40.4167754!1m5!1m1!1s0x476d079e5136ca9f:0xfdc2e58a51a25b46!2m2!1d16.3738189!2d48.2081743!3e0">from Madrid to Vienna</a>)
is 2401km, and the travel time is 22:09h (79722sec):
</p>

<p>
<a href="./img/stat-distance.ttl">./img/stat-distance.ttl</a>
</p>
<div class="org-src-container">

<pre class="src src-Turtle"><span style="color: #228b22;">ms-distance-dat:</span><span style="color: #008b8b;">ES-AT</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span>;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;">google-distance</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">geo</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">ES</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">partner</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">AT</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">distance</span> <span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;">ES-AT-2401185</span>.                 

<span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;">ES-AT-2401185</span> 
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">distance</span> 2401185;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"2,401 km"</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">duration</span> 79722;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">durationLabel</span> <span style="color: #8b2252;">"22 hours 9 mins"</span><span style="color: #228b22;">.</span>

<span style="color: #228b22;">ms-distance-dat:</span><span style="color: #008b8b;">ES-BE</span> <span style="color: #a020f0;">a</span> <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">Observation</span>;
  <span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;">google-distance</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">geo</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">ES</span>;
  <span style="color: #228b22;">prop:</span><span style="color: #008b8b;">partner</span> <span style="color: #228b22;">eugeo:</span><span style="color: #008b8b;">BE</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">distance</span> <span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;">ES-BE-1580489</span>.         

<span style="color: #228b22;">ms-distance:</span><span style="color: #008b8b;">ES-BE-1580489</span> 
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">distance</span> 1580489;
  <span style="color: #228b22;">rdfs:</span><span style="color: #008b8b;">label</span> <span style="color: #8b2252;">"1,580 km"</span>;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">duration</span> 52262;
  <span style="color: #228b22;">ms:</span><span style="color: #008b8b;">durationLabel</span> <span style="color: #8b2252;">"14 hours 31 mins"</span><span style="color: #228b22;">.</span>

<span style="color: #b22222;">##################</span>
<span style="color: #228b22;">qb:</span><span style="color: #008b8b;">dataSet</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">arrow</span> <span style="color: #228b22;">puml:</span><span style="color: #008b8b;">up</span>.
</pre>
</div>
</div>
<div id="outline-container-sec-16-4-1" class="outline-4">
<h4 id="sec-16-4-1"><span class="section-number-4">16.4.1</span> Distance Data Diagram</h4>
<div class="outline-text-4" id="text-16-4-1">

<div class="figure">
<p><img src="./img/stat-distance.png" alt="stat-distance.png" />
</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="date">Date: <span class="timestamp-wrapper"><span class="timestamp">&lt;2016-11-02&gt;</span></span></p>
<p class="author">Author: Vladimir Alexiev</p>
<p class="date">Created: 2016-11-02 Wed 13:30</p>
<p class="creator">Emacs 25.0.50.1 (Org mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
